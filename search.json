[{"path":"http://jkunst.com/risk3r/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2019 Joshua Kunst Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://jkunst.com/risk3r/articles/Plots.html","id":"forest-plot","dir":"Articles","previous_headings":"","what":"Forest (?) plot","title":"Plots","text":"","code":"p1 <- gg_model_coef(m, color = \"darkred\") #> Waiting for profiling to be done... p1"},{"path":"http://jkunst.com/risk3r/articles/Plots.html","id":"variable-importance","dir":"Articles","previous_headings":"","what":"Variable importance","title":"Plots","text":"Done via Variable Dropout Plot. Details ingredients::feature_importance.  version bases scorecads.","code":"p2 <- gg_model_importance(m) #> Preparation of a new explainer is initiated #>   -> model label       :  lm  (  default  ) #>   -> data              :  20000  rows  8  cols  #>   -> data              :  tibble converted into a data.frame  #>   -> target variable   :  20000  values  #>   -> predict function  :  yhat.glm  will be used (  default  ) #>   -> predicted values  :  No value for predict function target column. (  default  ) #>   -> model_info        :  package stats , ver. 4.2.1 , task classification (  default  )  #>   -> predicted values  :  numerical, min =  0.03820282 , mean =  0.1982 , max =  0.5522259   #>   -> residual function :  difference between y and yhat (  default  ) #>   -> residuals         :  numerical, min =  -0.5522259 , mean =  -4.306631e-10 , max =  0.9617972   #>   A new explainer has been created! p2 bins <- scorecard::woebin(credit, \"bad\", no_cores = 1) #> [INFO] creating woe binning ... #> Warning in check_const_cols(dt): There were 3 constant columns removed from input dataset, #> flag_other_card, flag_mobile_phone, flag_contact_phone  gg_model_importance2(m, bins) gg_model_importance2(m, bins, fill = \"gray60\", width = 0.5)"},{"path":"http://jkunst.com/risk3r/articles/Plots.html","id":"correlations-and-vif","dir":"Articles","previous_headings":"","what":"Correlations and VIF","title":"Plots","text":"Vif plot inspired see:::plot.see_check_collinearity.","code":"p3 <- gg_model_corr(m) #>  #> Correlation method: 'pearson' #> Missing treated using: 'pairwise.complete.obs' p3 # override  p3 +     ggplot2::scale_fill_viridis_c(     name = \"Cors\",     label = scales::percent,     # limits = c(-1, 1),     na.value = \"gray90\",     # breaks = seq(-1, 1, by = 0.25)     ) #> Scale for 'fill' is already present. Adding another scale for 'fill', which #> will replace the existing scale. p4 <- gg_model_vif(m) p4"},{"path":"http://jkunst.com/risk3r/articles/Plots.html","id":"roc","dir":"Articles","previous_headings":"","what":"ROC","title":"Plots","text":"","code":"p5 <- gg_model_roc(m, newdata = dtest, size = 2) +   scale_color_viridis_d(begin = 0.2, end = 0.8, direction = -1, option = \"B\") p5"},{"path":"http://jkunst.com/risk3r/articles/Plots.html","id":"empirical-cumulative-distribution-function","dir":"Articles","previous_headings":"","what":"Empirical Cumulative Distribution Function","title":"Plots","text":"","code":"p6 <- gg_model_ecdf(m, newdata = dtest, size = 2) +   scale_color_viridis_d(begin = 0.2, end = 0.8, direction = -1, option = \"B\") p6 # just train p6 <- p6 +   ggforce::facet_wrap_paginate(ggplot2::vars(.data$sample), nrow = 1, ncol = 1, page = 1) +   theme(strip.background = element_blank(), strip.text.x = element_blank()) p6"},{"path":"http://jkunst.com/risk3r/articles/Plots.html","id":"distributions","dir":"Articles","previous_headings":"","what":"Distributions","title":"Plots","text":"","code":"p7 <- gg_model_dist(m, newdata = dtest, color = \"transparent\", alpha = 0.4)  p7 # Just train and separate distributions p7 +   scale_fill_viridis_d(begin = 0.2, end = 0.8, direction = -1, option = \"B\") +   ggforce::facet_wrap_paginate(     ggplot2::vars(.data$sample, .data$actual),     nrow = 2, ncol = 1, page = 2     ) +   theme(strip.background = element_blank(), strip.text.x = element_blank())"},{"path":"http://jkunst.com/risk3r/articles/Plots.html","id":"calibration","dir":"Articles","previous_headings":"","what":"Calibration","title":"Plots","text":"","code":"p8 <- gg_model_calibration(m, newdata = dtest, alpha = 0.01, size = 1, color = \"darkred\")  p8 #> `geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = \"cs\")' # only test and x = y p8 +   ggforce::facet_wrap_paginate(     ggplot2::vars(.data$sample),     nrow = 1, ncol = 1, page = 2     ) +   geom_abline(aes(slope = 1, intercept = 0), color = \"gray70\", size = 2) +   theme(strip.background = element_blank(), strip.text.x = element_blank()) #> `geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = \"cs\")'"},{"path":"http://jkunst.com/risk3r/articles/Plots.html","id":"compose-and-override-some-lablescolors","dir":"Articles","previous_headings":"","what":"Compose and override some lables/colors","title":"Plots","text":"Using patchwork.  can see space can gain","code":"library(patchwork)  (p1 | p2 | p3) /   (p4 | p5 | p6) p12 <- p1 +    labs(caption = NULL, x = \"Estimate\")  p22 <- p2 +   scale_x_discrete(breaks = \"\", name = NULL, limits = rev) +    coord_flip()  p32 <- p3 +   scale_fill_viridis_c(     name = \"Cors\",     limits = c(-1, 1),     label = scales::percent,     na.value = \"gray90\",     breaks = seq(-1, 1, length.out = 5),     option = \"B\"   ) +   geom_text(aes(label = round(cor * 100)), color = \"white\", size = 2.5) +   scale_x_discrete(breaks = \"\", name = NULL) +   scale_y_discrete(breaks = \"\", name = NULL) +   theme(legend.position = \"right\") #> Scale for 'fill' is already present. Adding another scale for 'fill', which #> will replace the existing scale.  p42 <- p4 +    scale_x_discrete(limits = rev) +   coord_flip() +   theme(legend.position = \"bottom\") +   labs(x = NULL, y = \"VIF\")  p52 <-  p5 +   scale_color_viridis_d(     name = \"Sample\",     begin = 0.2,     end = 0.8,     option = \"A\",     labels = stringr::str_to_title,     ) +   theme(legend.position = \"bottom\")  #> Scale for 'colour' is already present. Adding another scale for 'colour', #> which will replace the existing scale.     p62 <- p6 +   scale_color_viridis_d(     name = NULL,     begin = 0.2,     end = 0.8,     option = \"D\",     labels =  ~ ifelse(.x == \"0\", \"Good\", \"Bad\")     ) +   labs(x = \"Predicted\") +   theme(legend.position = \"bottom\")  #> Scale for 'colour' is already present. Adding another scale for 'colour', #> which will replace the existing scale.  (p12 | p22 | p32) /   (p42 | p52 | p62) #> Warning: Removed 8 rows containing missing values (geom_text)."},{"path":"http://jkunst.com/risk3r/articles/feature-selection.html","id":"raw-model","dir":"Articles","previous_headings":"","what":"Raw Model","title":"Feature Selection","text":"Let fit raw model check:","code":"library(risk3r) library(broom) library(dplyr) library(ggplot2)  data(\"credit_woe\")  credit_woe <- select(credit_woe, -id_client_woe) train_data <- head(credit_woe, 20000) test_data  <- tail(credit_woe, 20000)  model_raw <- glm(bad ~ ., family = binomial, data = train_data)  broom::tidy(model_raw) #> # A tibble: 13 × 5 #>    term                    estimate std.error statistic  p.value #>    <chr>                      <dbl>     <dbl>     <dbl>    <dbl> #>  1 (Intercept)              -1.39      0.0185   -75.4   0        #>  2 sex_woe                   0.878     0.115      7.65  2.05e-14 #>  3 marital_status_woe        0.363     0.0683     5.32  1.06e- 7 #>  4 age_woe                   0.612     0.0542    11.3   1.47e-29 #>  5 flag_res_phone_woe        0.727     0.0724    10.0   1.10e-23 #>  6 area_code_res_phone_woe   0.310     0.0973     3.18  1.46e- 3 #>  7 payment_day_woe           0.799     0.122      6.52  6.83e-11 #>  8 residence_type_woe       -0.212     0.223     -0.950 3.42e- 1 #>  9 months_in_residence_woe  -0.0265    0.153     -0.174 8.62e- 1 #> 10 months_in_the_job_woe     0.501     0.0706     7.09  1.31e-12 #> 11 profession_code_woe       0.483     0.0843     5.74  9.72e- 9 #> 12 personal_net_income_woe   0.0610    0.105      0.579 5.63e- 1 #> 13 quant_add_cards_woe       0.273     0.154      1.77  7.61e- 2  # some parameter are negative, multicollinearity broom::tidy(model_raw) %>% filter(estimate <= 0 | p.value > 0.05) #> # A tibble: 5 × 5 #>   term                    estimate std.error statistic p.value #>   <chr>                      <dbl>     <dbl>     <dbl>   <dbl> #> 1 (Intercept)              -1.39      0.0185   -75.4    0      #> 2 residence_type_woe       -0.212     0.223     -0.950  0.342  #> 3 months_in_residence_woe  -0.0265    0.153     -0.174  0.862  #> 4 personal_net_income_woe   0.0610    0.105      0.579  0.563  #> 5 quant_add_cards_woe       0.273     0.154      1.77   0.0761  gg_model_coef(model_raw) +   labs(title = \"Yikes!\")"},{"path":"http://jkunst.com/risk3r/articles/feature-selection.html","id":"satellite-model","dir":"Articles","previous_headings":"","what":"Satellite Model","title":"Feature Selection","text":"","code":"# rf simple model_rf <- randomForest::randomForest(bad ~ ., data = train_data, do.trace = FALSE, ntree = 100)  metrics(   train_data$bad,    predict(model_rf)   ) #> # A tibble: 1 × 4 #>      ks   auc    iv  gini #>   <dbl> <dbl> <dbl> <dbl> #> 1 0.186 0.627 0.205 0.255"},{"path":"http://jkunst.com/risk3r/articles/feature-selection.html","id":"glmnet","dir":"Articles","previous_headings":"","what":"glmnet","title":"Feature Selection","text":"https://glmnet.stanford.edu/articles/glmnet.html 2 option S: lambda.min lambda.1se , last option regularized model. wrapper around glmnet package take model input, return model variables non zero glmnet::cv.glmnet() function according selected S option. function reorder variables order coefficient glmnet model turn non zero (check plots run funtion).","code":"model_fsglmnet <- featsel_glmnet(model_raw, S = \"lambda.1se\", trace.it = FALSE) broom::tidy(model_fsglmnet) #> # A tibble: 9 × 5 #>   term                    estimate std.error statistic  p.value #>   <chr>                      <dbl>     <dbl>     <dbl>    <dbl> #> 1 (Intercept)               -1.39     0.0185    -75.4  0        #> 2 age_woe                    0.616    0.0520     11.9  1.88e-32 #> 3 flag_res_phone_woe         0.743    0.0716     10.4  3.01e-25 #> 4 marital_status_woe         0.376    0.0674      5.58 2.41e- 8 #> 5 months_in_the_job_woe      0.521    0.0687      7.59 3.12e-14 #> 6 sex_woe                    0.822    0.112       7.35 2.04e-13 #> 7 profession_code_woe        0.493    0.0840      5.87 4.32e- 9 #> 8 payment_day_woe            0.805    0.122       6.57 4.87e-11 #> 9 area_code_res_phone_woe    0.312    0.0973      3.20 1.37e- 3  broom::tidy(model_fsglmnet) %>% filter(estimate <= 0 | p.value > 0.05) #> # A tibble: 1 × 5 #>   term        estimate std.error statistic p.value #>   <chr>          <dbl>     <dbl>     <dbl>   <dbl> #> 1 (Intercept)    -1.39    0.0185     -75.4       0  gg_model_coef(model_fsglmnet)"},{"path":"http://jkunst.com/risk3r/articles/feature-selection.html","id":"setpwise-forward","dir":"Articles","previous_headings":"","what":"Setpwise forward","title":"Feature Selection","text":"wrapper stats::step start point model null one response ~ 1.","code":"model_fsstep <- featsel_stepforward(model_raw, trace = 0)  broom::tidy(model_fsstep) #> # A tibble: 10 × 5 #>    term                    estimate std.error statistic  p.value #>    <chr>                      <dbl>     <dbl>     <dbl>    <dbl> #>  1 (Intercept)               -1.39     0.0185    -75.4  0        #>  2 age_woe                    0.609    0.0521     11.7  1.49e-31 #>  3 flag_res_phone_woe         0.731    0.0718     10.2  2.46e-24 #>  4 months_in_the_job_woe      0.509    0.0689      7.38 1.55e-13 #>  5 sex_woe                    0.870    0.114       7.61 2.83e-14 #>  6 payment_day_woe            0.800    0.122       6.54 6.18e-11 #>  7 profession_code_woe        0.484    0.0842      5.75 8.95e- 9 #>  8 marital_status_woe         0.359    0.0679      5.29 1.20e- 7 #>  9 area_code_res_phone_woe    0.312    0.0973      3.20 1.36e- 3 #> 10 quant_add_cards_woe        0.298    0.148       2.01 4.46e- 2  broom::tidy(model_fsstep) %>%   filter(estimate <= 0 | p.value > 0.05) #> # A tibble: 1 × 5 #>   term        estimate std.error statistic p.value #>   <chr>          <dbl>     <dbl>     <dbl>   <dbl> #> 1 (Intercept)    -1.39    0.0185     -75.4       0  gg_model_coef(model_fsstep)"},{"path":"http://jkunst.com/risk3r/articles/feature-selection.html","id":"repetitive-round-of-drop-out-loss","dir":"Articles","previous_headings":"","what":"Repetitive round of drop out loss","title":"Feature Selection","text":"https://ema.drwhy.ai/featureImportance.html stat = \"min\" option give simpler model ’strict: iteration loss increase variable removed. can choose c(\"q25\", \"mean\", \"median\")","code":"model_lss_prmt <- featsel_loss_function_permutations(   model_fsglmnet,    stat =\"min\",   B = 50   )  library(patchwork)  attr(model_lss_prmt, \"plots\") %>%    purrr::reduce(`+`) &   patchwork::plot_layout(ncol = 1) &   theme  broom::tidy(model_lss_prmt)  broom::tidy(model_lss_prmt) %>%    filter(estimate <= 0 | p.value > 0.05)  gg_model_coef(model_lss_prmt)"},{"path":"http://jkunst.com/risk3r/articles/feature-selection.html","id":"manual","dir":"Articles","previous_headings":"","what":"Manual","title":"Feature Selection","text":"Let suppose nice model, want reduce number variables. Maybe want check:","code":"model_partials(model_fsstep) #> # A tibble: 9 × 5 #>   variable                   ks   auc    iv  gini #>   <fct>                   <dbl> <dbl> <dbl> <dbl> #> 1 age_woe                 0.193 0.620 0.191 0.240 #> 2 flag_res_phone_woe      0.201 0.638 0.232 0.276 #> 3 months_in_the_job_woe   0.210 0.645 0.254 0.289 #> 4 sex_woe                 0.222 0.650 0.271 0.299 #> 5 payment_day_woe         0.237 0.655 0.300 0.309 #> 6 profession_code_woe     0.238 0.657 0.307 0.315 #> 7 marital_status_woe      0.237 0.660 0.316 0.320 #> 8 area_code_res_phone_woe 0.237 0.661 0.319 0.322 #> 9 quant_add_cards_woe     0.239 0.661 0.323 0.322  gg_model_partials(model_fsstep) +     ggplot2::facet_wrap(       ggplot2::vars(.data$key), ncol = 2,       scales = \"free_y\"       )"},{"path":"http://jkunst.com/risk3r/articles/predictive-metrics.html","id":"using-a-glm-model","dir":"Articles","previous_headings":"","what":"Using a glm model","title":"Predictive Metrics","text":"Works new data.","code":"daux <- data.frame(actual = actual, predicted = predicted)  m <- glm(actual ~ predicted, family = binomial, data = daux)  model_metrics(m) #> # A tibble: 1 × 4 #>      ks   auc    iv  gini #>   <dbl> <dbl> <dbl> <dbl> #> 1 0.499 0.832  1.77 0.664 new_daux <- head(daux, 1000)  model_metrics(m, newdata = new_daux) #> # A tibble: 1 × 4 #>      ks   auc    iv  gini #>   <dbl> <dbl> <dbl> <dbl> #> 1 0.463 0.817  1.74 0.635"},{"path":"http://jkunst.com/risk3r/articles/scorecard.html","id":"woebin_summary","dir":"Articles","previous_headings":"","what":"woebin_summary","title":"Scorecard helpers and others funcions","text":"","code":"bins <- woebin(germancredit, y = \"creditability\") #> [INFO] creating woe binning ...  binssummary <- woebin_summary(bins)  binssummary #> # A tibble: 20 × 15 #>    variable       n_cat…¹      iv       ks   hhi count…² count…³ has_m…⁴ has_s…⁵ #>    <chr>            <int>   <dbl>    <dbl> <dbl>   <dbl>   <dbl> <lgl>   <lgl>   #>  1 status.of.exi…       3 6.39e-1 3.67e- 1 0.333   0.543   0.063 FALSE   FALSE   #>  2 credit.history       4 2.92e-1 1.80e- 1 0.25    0.53    0.088 FALSE   FALSE   #>  3 duration.in.m…       5 2.83e-1 1.92e- 1 0.2     0.399   0.07  FALSE   FALSE   #>  4 savings.accou…       3 1.91e-1 1.87e- 1 0.333   0.603   0.103 FALSE   FALSE   #>  5 credit.amount        5 1.81e-1 1.58e- 1 0.2     0.382   0.05  FALSE   FALSE   #>  6 purpose              3 1.53e-1 1.79e- 1 0.333   0.608   0.112 FALSE   FALSE   #>  7 age.in.years         5 1.30e-1 1.47e- 1 0.2     0.373   0.079 FALSE   FALSE   #>  8 property             4 1.13e-1 1.17e- 1 0.25    0.332   0.154 FALSE   FALSE   #>  9 present.emplo…       4 8.53e-2 1.20e- 1 0.25    0.339   0.174 FALSE   FALSE   #> 10 housing              3 8.33e-2 1.33e- 1 0.333   0.713   0.108 FALSE   FALSE   #> 11 other.install…       2 5.76e-2 9.62e- 2 0.5     0.814   0.186 FALSE   FALSE   #> 12 installment.r…       3 2.56e-2 7.71e- 2 0.333   0.476   0.157 FALSE   FALSE   #> 13 other.debtors…       2 1.64e-2 2.67e- 2 0.5     0.948   0.052 FALSE   FALSE   #> 14 number.of.exi…       2 1.01e-2 4.81e- 2 0.5     0.633   0.367 FALSE   FALSE   #> 15 personal.stat…       4 8.84e-3 3.33e- 2 0.25    0.548   0.05  FALSE   FALSE   #> 16 job                  3 8.10e-3 3.14e- 2 0.333   0.63    0.148 FALSE   FALSE   #> 17 telephone            2 6.38e-3 3.90e- 2 0.5     0.596   0.404 FALSE   FALSE   #> 18 present.resid…       4 3.59e-3 2.24e- 2 0.25    0.413   0.13  FALSE   FALSE   #> 19 number.of.peo…       2 4.34e-5 2.38e- 3 0.5     0.845   0.155 FALSE   FALSE   #> 20 foreign.worker       1 0       6.51e-17 1       1       1     FALSE   FALSE   #> # … with 6 more variables: monotone <lgl>, factor <lgl>, breaks <list>, #> #   iv_lbl <fct>, hhi_lbl <fct>, distribution <chr>, and abbreviated variable #> #   names ¹​n_categories, ²​count_distr_max, ³​count_distr_min, ⁴​has_missing, #> #   ⁵​has_special_values #> # ℹ Use `colnames()` to see all variable names  binssummary %>%    select(variable, ks, iv, iv_lbl,          hhi, hhi_lbl, distribution) #> # A tibble: 20 × 7 #>    variable                              ks      iv iv_lbl   hhi hhi_lbl distr…¹ #>    <chr>                              <dbl>   <dbl> <fct>  <dbl> <fct>   <chr>   #>  1 status.of.existing.checking.ac… 3.67e- 1 6.39e-1 suspi… 0.333 high c… \"▇▁▆\"   #>  2 credit.history                  1.80e- 1 2.92e-1 medium 0.25  modera… \"▂▇▁▅\"  #>  3 duration.in.month               1.92e- 1 2.83e-1 medium 0.2   modera… \"▂▇▇▂▂\" #>  4 savings.account.and.bonds       1.87e- 1 1.91e-1 medium 0.333 high c… \"▇▂▃\"   #>  5 credit.amount                   1.58e- 1 1.81e-1 medium 0.2   modera… \"▆▂▇▅▁\" #>  6 purpose                         1.79e- 1 1.53e-1 medium 0.333 high c… \"▂▃▇\"   #>  7 age.in.years                    1.47e- 1 1.30e-1 medium 0.2   modera… \"▅▂▆▂▇\" #>  8 property                        1.17e- 1 1.13e-1 medium 0.25  modera… \"▇▆▇▃\"  #>  9 present.employment.since        1.20e- 1 8.53e-2 weak   0.25  modera… \"▆▇▅▆\"  #> 10 housing                         1.33e- 1 8.33e-2 weak   0.333 high c… \"▂▇▁\"   #> 11 other.installment.plans         9.62e- 2 5.76e-2 weak   0.5   high c… \"▂▇\"    #> 12 installment.rate.in.percentage… 7.71e- 2 2.56e-2 weak   0.333 high c… \"▆▂▇\"   #> 13 other.debtors.or.guarantors     2.67e- 2 1.64e-2 unpre… 0.5   high c… \"▇▁\"    #> 14 number.of.existing.credits.at.… 4.81e- 2 1.01e-2 unpre… 0.5   high c… \"▇▅\"    #> 15 personal.status.and.sex         3.33e- 2 8.84e-3 unpre… 0.25  modera… \"▁▅▇▂\"  #> 16 job                             3.14e- 2 8.10e-3 unpre… 0.333 high c… \"▃▇▂\"   #> 17 telephone                       3.90e- 2 6.38e-3 unpre… 0.5   high c… \"▇▆\"    #> 18 present.residence.since         2.24e- 2 3.59e-3 unpre… 0.25  modera… \"▂▆▃▇\"  #> 19 number.of.people.being.liable.… 2.38e- 3 4.34e-5 unpre… 0.5   high c… \"▇▂\"    #> 20 foreign.worker                  6.51e-17 0       unpre… 1     high c… \"\"      #> # … with abbreviated variable name ¹​distribution"},{"path":"http://jkunst.com/risk3r/articles/scorecard.html","id":"woebin_ply_min","dir":"Articles","previous_headings":"","what":"woebin_ply_min","title":"Scorecard helpers and others funcions","text":"woebin_ply_min function don’t need data frame argument.","code":"variable <- head(germancredit$credit.amount, 6)  bin <- bins$credit.amount  bin #>         variable         bin count count_distr neg pos   posprob         woe #> 1: credit.amount [-Inf,1400)   267       0.267 185  82 0.3071161  0.03366128 #> 2: credit.amount [1400,1800)   105       0.105  87  18 0.1714286 -0.72823850 #> 3: credit.amount [1800,4000)   382       0.382 287  95 0.2486911 -0.25830746 #> 4: credit.amount [4000,9200)   196       0.196 120  76 0.3877551  0.39053946 #> 5: credit.amount [9200, Inf)    50       0.050  21  29 0.5800000  1.17007125 #>          bin_iv  total_iv breaks is_special_values #> 1: 0.0003045545 0.1812204   1400             FALSE #> 2: 0.0468153322 0.1812204   1800             FALSE #> 3: 0.0241086966 0.1812204   4000             FALSE #> 4: 0.0319870413 0.1812204   9200             FALSE #> 5: 0.0780047502 0.1812204    Inf             FALSE  woebin_ply_min(variable, bin) #> [1]  0.03366128  0.39053946 -0.25830746  0.39053946  0.39053946  0.39053946  woebin_ply_min(variable, bin, value = \"posprob\") #> [1] 0.3071161 0.3877551 0.2486911 0.3877551 0.3877551 0.3877551"},{"path":"http://jkunst.com/risk3r/articles/scorecard.html","id":"woebin_cor_iv","dir":"Articles","previous_headings":"","what":"woebin_cor_iv","title":"Scorecard helpers and others funcions","text":"","code":"datcor <- woebin_cor_iv(germancredit, bins) #> [INFO] converting into woe values ... #> Warning in stats::cor(x = x, y = y, use = use, method = method): the standard #> deviation is zero #>  #> Correlation method: 'pearson' #> Missing treated using: 'pairwise.complete.obs'  datcor #> # A tibble: 400 × 7 #>    var1                            var2        r var1_iv var1_…¹ var2_iv var2_…² #>    <fct>                           <fct>   <dbl>   <dbl>   <int>   <dbl>   <int> #>  1 status.of.existing.checking.ac… stat… NA        0.639       1  0.639        1 #>  2 status.of.existing.checking.ac… cred…  0.203    0.639       1  0.292        2 #>  3 status.of.existing.checking.ac… dura…  0.0985   0.639       1  0.283        3 #>  4 status.of.existing.checking.ac… savi…  0.219    0.639       1  0.191        4 #>  5 status.of.existing.checking.ac… cred…  0.0916   0.639       1  0.181        5 #>  6 status.of.existing.checking.ac… purp…  0.133    0.639       1  0.153        6 #>  7 status.of.existing.checking.ac… age.…  0.129    0.639       1  0.130        7 #>  8 status.of.existing.checking.ac… prop…  0.0652   0.639       1  0.113        8 #>  9 status.of.existing.checking.ac… pres…  0.119    0.639       1  0.0853       9 #> 10 status.of.existing.checking.ac… hous…  0.112    0.639       1  0.0833      10 #> # … with 390 more rows, and abbreviated variable names ¹​var1_rank, ²​var2_rank #> # ℹ Use `print(n = ...)` to see more rows  cor_limit <- 0.15  datcor %>%   filter(var1 != var2) %>%   mutate(     cor_conflict = ifelse(abs(r) > cor_limit, TRUE, FALSE),     variable_to_remove = ifelse(       cor_conflict,       ifelse(var1 > var2, var2, var1),       NA     )   ) #> Warning in Ops.factor(var1, var2): '>' not meaningful for factors #> # A tibble: 380 × 9 #>    var1             var2       r var1_iv var1_…¹ var2_iv var2_…² cor_c…³ varia…⁴ #>    <fct>            <fct>  <dbl>   <dbl>   <int>   <dbl>   <int> <lgl>   <lgl>   #>  1 status.of.exist… cred… 0.203    0.639       1  0.292        2 TRUE    NA      #>  2 status.of.exist… dura… 0.0985   0.639       1  0.283        3 FALSE   NA      #>  3 status.of.exist… savi… 0.219    0.639       1  0.191        4 TRUE    NA      #>  4 status.of.exist… cred… 0.0916   0.639       1  0.181        5 FALSE   NA      #>  5 status.of.exist… purp… 0.133    0.639       1  0.153        6 FALSE   NA      #>  6 status.of.exist… age.… 0.129    0.639       1  0.130        7 FALSE   NA      #>  7 status.of.exist… prop… 0.0652   0.639       1  0.113        8 FALSE   NA      #>  8 status.of.exist… pres… 0.119    0.639       1  0.0853       9 FALSE   NA      #>  9 status.of.exist… hous… 0.112    0.639       1  0.0833      10 FALSE   NA      #> 10 status.of.exist… othe… 0.0489   0.639       1  0.0576      11 FALSE   NA      #> # … with 370 more rows, and abbreviated variable names ¹​var1_rank, ²​var2_rank, #> #   ³​cor_conflict, ⁴​variable_to_remove #> # ℹ Use `print(n = ...)` to see more rows"},{"path":"http://jkunst.com/risk3r/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Joshua Kunst. Author, maintainer. Javier Machado. Contributor. Ignacio Rossi. Contributor.","code":""},{"path":"http://jkunst.com/risk3r/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kunst J (2022). risk3r: Tools credit risk modelling. https://jkunst.com/risk3r/, https://github.com/jbkunst/risk3r.","code":"@Manual{,   title = {risk3r: Tools for credit risk modelling},   author = {Joshua Kunst},   year = {2022},   note = {https://jkunst.com/risk3r/, https://github.com/jbkunst/risk3r}, }"},{"path":"http://jkunst.com/risk3r/index.html","id":"risk3r","dir":"","previous_headings":"","what":"Tools for credit risk modelling","title":"Tools for credit risk modelling","text":"package contains set convenient functions development risk models. functions designed conjunction scorecard package.","code":""},{"path":"http://jkunst.com/risk3r/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools for credit risk modelling","text":"can install :","code":"remotes::install_github(\"jbkunst/risk3r\")"},{"path":"http://jkunst.com/risk3r/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Tools for credit risk modelling","text":"basic example shows solve common problem:","code":"library(risk3r) ## basic example code"},{"path":"http://jkunst.com/risk3r/reference/apply_filters.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply consecutive filter expressions to a data frame and return results — apply_filters","title":"Apply consecutive filter expressions to a data frame and return results — apply_filters","text":"Apply consecutive filter expressions data frame return results","code":""},{"path":"http://jkunst.com/risk3r/reference/apply_filters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply consecutive filter expressions to a data frame and return results — apply_filters","text":"","code":"apply_filters(data, filters, summary_fun, verbose = TRUE)"},{"path":"http://jkunst.com/risk3r/reference/apply_filters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply consecutive filter expressions to a data frame and return results — apply_filters","text":"data data frame. filters list named quoted expressions. summary_fun summary function. Recive data frame return data frame. verbose logical value","code":""},{"path":"http://jkunst.com/risk3r/reference/apply_filters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply consecutive filter expressions to a data frame and return results — apply_filters","text":"","code":"require(rlang) # quo #> Loading required package: rlang require(dplyr) # quo #> Loading required package: dplyr #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union  data <- mtcars  filters <- list(   `am equals to 1`  = quo(am == 1),   `carb = 1!!`      = quo(carb == 1),   `hp less than 90` = quo(hp < 90) )  summary_fun <- function(data) {   summarise(     data,     n = dplyr::n(),     cyl_mean = mean(cyl),     n_unique_cyl = n_distinct(cyl)     ) }  apply_filters(data, filters, summary_fun) #> Warning: Using `as.character()` on a quosure is deprecated as of rlang 0.3.0. #> Please use `as_label()` or `as_name()` instead. #> This warning is displayed once per session. #> ℹ Step 1 `initial` ==> TRUE #> ℹ Step 2 `am equals to 1` ==> am == 1 #> ℹ Step 3 `carb = 1!!` ==> carb == 1 #> ℹ Step 4 `hp less than 90` ==> hp < 90 #> ℹ Step 5 `final` ==> TRUE #> $data #>                 mpg cyl disp hp drat    wt  qsec vs am gear carb #> Fiat 128       32.4   4 78.7 66 4.08 2.200 19.47  1  1    4    1 #> Toyota Corolla 33.9   4 71.1 65 4.22 1.835 19.90  1  1    4    1 #> Fiat X1-9      27.3   4 79.0 66 4.08 1.935 18.90  1  1    4    1 #>  #> $summary #>            filter rows rows_removed  n cyl_mean n_unique_cyl #> 1         initial   32           NA 32 6.187500            3 #> 2  am equals to 1   13           19 13 5.076923            3 #> 3      carb = 1!!    4            9  4 4.000000            1 #> 4 hp less than 90    3            1  3 4.000000            1 #> 5           final    3            0  3 4.000000            1 #>"},{"path":"http://jkunst.com/risk3r/reference/as.list.skim_df.html","id":null,"dir":"Reference","previous_headings":"","what":"As list method for skim_df object — as.list.skim_df","title":"As list method for skim_df object — as.list.skim_df","text":"list method skim_df object","code":""},{"path":"http://jkunst.com/risk3r/reference/as.list.skim_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"As list method for skim_df object — as.list.skim_df","text":"","code":"# S3 method for skim_df as.list(x, ...)"},{"path":"http://jkunst.com/risk3r/reference/as.list.skim_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"As list method for skim_df object — as.list.skim_df","text":"x skim_df object ... Optional arguments (non used yet).","code":""},{"path":"http://jkunst.com/risk3r/reference/count_distr_max.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the max proportion — count_distr_max","title":"Get the max proportion — count_distr_max","text":"Get max proportion","code":""},{"path":"http://jkunst.com/risk3r/reference/count_distr_max.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the max proportion — count_distr_max","text":"","code":"count_distr_max(x)"},{"path":"http://jkunst.com/risk3r/reference/count_distr_max.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the max proportion — count_distr_max","text":"x value get maximun proportion.","code":""},{"path":"http://jkunst.com/risk3r/reference/count_distr_max.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the max proportion — count_distr_max","text":"","code":"x <- sample(letters[1:3], prob = 1:3, size = 10000, replace = TRUE)  count_distr_max(x) #> [1] 0.4968"},{"path":"http://jkunst.com/risk3r/reference/credit.html","id":null,"dir":"Reference","previous_headings":"","what":"Credit data — credit","title":"Credit data — credit","text":"Credit data","code":""},{"path":"http://jkunst.com/risk3r/reference/credit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Credit data — credit","text":"","code":"credit"},{"path":"http://jkunst.com/risk3r/reference/credit.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Credit data — credit","text":"data frame 49,694 observations 17 variables.","code":""},{"path":"http://jkunst.com/risk3r/reference/credit_woe.html","id":null,"dir":"Reference","previous_headings":"","what":"Credit data in woe form — credit_woe","title":"Credit data in woe form — credit_woe","text":"Credit data woe form","code":""},{"path":"http://jkunst.com/risk3r/reference/credit_woe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Credit data in woe form — credit_woe","text":"","code":"credit_woe"},{"path":"http://jkunst.com/risk3r/reference/credit_woe.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Credit data in woe form — credit_woe","text":"data frame 49,694 observations 14 variables.","code":""},{"path":"http://jkunst.com/risk3r/reference/featsel_glmnet.html","id":null,"dir":"Reference","previous_headings":"","what":"Feature selection via glmnet — featsel_glmnet","title":"Feature selection via glmnet — featsel_glmnet","text":"Feature selection via glmnet","code":""},{"path":"http://jkunst.com/risk3r/reference/featsel_glmnet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Feature selection via glmnet — featsel_glmnet","text":"","code":"featsel_glmnet(   model,   S = \"lambda.1se\",   plot = TRUE,   seed = 123,   trace.it = 1,   type.measue = \"auc\",   ... )"},{"path":"http://jkunst.com/risk3r/reference/featsel_glmnet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Feature selection via glmnet — featsel_glmnet","text":"model model S S plot plot seed seed trace.trace.p type.measue type.measue ... Additional argumentos glmnet::cv.glmnet","code":""},{"path":"http://jkunst.com/risk3r/reference/featsel_glmnet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Feature selection via glmnet — featsel_glmnet","text":"","code":"data(\"credit_woe\")  m <- glm(bad ~ ., family = binomial, data = credit_woe)  featsel_glmnet(m) #> Warning: `as.tibble()` was deprecated in tibble 2.0.0. #> Please use `as_tibble()` instead. #> The signature and semantics have changed, see `?as_tibble`. #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated. #> Training #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  40%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |=================================                                     |  47%   |                                                                               |======================================================================| 100% #> Fold: 1/10 #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  40%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |=================================                                     |  47%   |                                                                               |==================================                                    |  48%   |                                                                               |======================================================================| 100% #> Fold: 2/10 #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  40%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |=================================                                     |  47%   |                                                                               |======================================================================| 100% #> Fold: 3/10 #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  40%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |=================================                                     |  47%   |                                                                               |==================================                                    |  48%   |                                                                               |======================================================================| 100% #> Fold: 4/10 #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  40%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |======================================================================| 100% #> Fold: 5/10 #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  40%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |======================================================================| 100% #> Fold: 6/10 #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  40%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |======================================================================| 100% #> Fold: 7/10 #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  40%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |=================================                                     |  47%   |                                                                               |======================================================================| 100% #> Fold: 8/10 #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  40%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |=================================                                     |  47%   |                                                                               |======================================================================| 100% #> Fold: 9/10 #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  40%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |=================================                                     |  47%   |                                                                               |======================================================================| 100% #> Fold: 10/10 #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  17%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  40%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |======================================================================| 100%    #>  #> Call:  glm(formula = as.formula(formula), family = binomial(link = logit),  #>     data = model$data) #>  #> Coefficients: #>             (Intercept)                  age_woe       flag_res_phone_woe   #>                 -1.4032                   0.5962                   0.6872   #>      marital_status_woe    months_in_the_job_woe  area_code_res_phone_woe   #>                  0.3832                   0.5959                   0.4890   #>                 sex_woe          payment_day_woe      profession_code_woe   #>                  0.7772                   0.8917                   0.5234   #>           id_client_woe   #>                  1.0029   #>  #> Degrees of Freedom: 49693 Total (i.e. Null);  49684 Residual #> Null Deviance:\t    49380  #> Residual Deviance: 46700 \tAIC: 46720"},{"path":"http://jkunst.com/risk3r/reference/featsel_loss_function_permutations.html","id":null,"dir":"Reference","previous_headings":"","what":"Shortcut featsel_loss_function_permutations — featsel_loss_function_permutations","title":"Shortcut featsel_loss_function_permutations — featsel_loss_function_permutations","text":"Shortcut featsel_loss_function_permutations","code":""},{"path":"http://jkunst.com/risk3r/reference/featsel_loss_function_permutations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Shortcut featsel_loss_function_permutations — featsel_loss_function_permutations","text":"","code":"featsel_loss_function_permutations(   model,   stat = c(\"median\", \"mean\", \"min\", \"q25\", \"q75\", \"max\"),   B = 10,   n_sample = NULL,   loss_function = DALEX::loss_one_minus_auc,   verbose = TRUE,   plot = TRUE,   ... )"},{"path":"http://jkunst.com/risk3r/reference/featsel_loss_function_permutations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Shortcut featsel_loss_function_permutations — featsel_loss_function_permutations","text":"model model stat = c(\"median\", \"mean\", \"min\", \"q25\", \"q75\", \"max\"), B Iterations, defaults 10 variable n_sample n_sample loss_function Default DALEX::loss_one_minus_auc verbose verbose plot Save plots ... Additional argumentos DALEX::explain ingredients::feature_importance","code":""},{"path":"http://jkunst.com/risk3r/reference/featsel_loss_function_permutations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Shortcut featsel_loss_function_permutations — featsel_loss_function_permutations","text":"","code":"if(FALSE){  data(\"credit_woe\")  m <- glm(bad ~ ., family = binomial, data = credit_woe)  m_featsel <- featsel_loss_function_permutations(m, stat = \"min\")  attr(m_featsel, \"plots\")  }"},{"path":"http://jkunst.com/risk3r/reference/featsel_stepforward.html","id":null,"dir":"Reference","previous_headings":"","what":"Feature selection — featsel_stepforward","title":"Feature selection — featsel_stepforward","text":"Feature selection","code":""},{"path":"http://jkunst.com/risk3r/reference/featsel_stepforward.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Feature selection — featsel_stepforward","text":"","code":"featsel_stepforward(model, ...)"},{"path":"http://jkunst.com/risk3r/reference/featsel_stepforward.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Feature selection — featsel_stepforward","text":"model model ... Additional argumentos stats::step","code":""},{"path":"http://jkunst.com/risk3r/reference/featsel_stepforward.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Feature selection — featsel_stepforward","text":"","code":"data(\"credit_woe\")  m <- glm(bad ~ ., family = binomial, data = credit_woe)  featsel_stepforward(m) #> Start:  AIC=49385.21 #> bad ~ 1 #>  #>                           Df Deviance   AIC #> + age_woe                  1    47900 47904 #> + marital_status_woe       1    48640 48644 #> + months_in_the_job_woe    1    48706 48710 #> + flag_res_phone_woe       1    48771 48775 #> + profession_code_woe      1    48921 48925 #> + area_code_res_phone_woe  1    49055 49059 #> + personal_net_income_woe  1    49072 49076 #> + sex_woe                  1    49176 49180 #> + payment_day_woe          1    49210 49214 #> + quant_add_cards_woe      1    49243 49247 #> + months_in_residence_woe  1    49251 49255 #> + residence_type_woe       1    49326 49330 #> + id_client_woe            1    49350 49354 #> <none>                          49383 49385 #>  #> Step:  AIC=47903.96 #> bad ~ age_woe #>  #>                           Df Deviance   AIC #> + flag_res_phone_woe       1    47391 47397 #> + area_code_res_phone_woe  1    47581 47587 #> + months_in_the_job_woe    1    47720 47726 #> + payment_day_woe          1    47756 47762 #> + marital_status_woe       1    47789 47795 #> + sex_woe                  1    47790 47796 #> + profession_code_woe      1    47794 47800 #> + personal_net_income_woe  1    47857 47863 #> + id_client_woe            1    47867 47873 #> + quant_add_cards_woe      1    47871 47877 #> + months_in_residence_woe  1    47898 47904 #> <none>                          47900 47904 #> + residence_type_woe       1    47900 47906 #> - age_woe                  1    49383 49385 #>  #> Step:  AIC=47396.59 #> bad ~ age_woe + flag_res_phone_woe #>  #>                           Df Deviance   AIC #> + months_in_the_job_woe    1    47226 47234 #> + payment_day_woe          1    47263 47271 #> + profession_code_woe      1    47293 47301 #> + marital_status_woe       1    47294 47302 #> + sex_woe                  1    47301 47309 #> + area_code_res_phone_woe  1    47320 47328 #> + id_client_woe            1    47358 47366 #> + quant_add_cards_woe      1    47379 47387 #> + personal_net_income_woe  1    47380 47388 #> <none>                          47391 47397 #> + months_in_residence_woe  1    47389 47397 #> + residence_type_woe       1    47390 47398 #> - flag_res_phone_woe       1    47900 47904 #> - age_woe                  1    48771 48775 #>  #> Step:  AIC=47233.74 #> bad ~ age_woe + flag_res_phone_woe + months_in_the_job_woe #>  #>                           Df Deviance   AIC #> + payment_day_woe          1    47091 47101 #> + profession_code_woe      1    47116 47126 #> + sex_woe                  1    47122 47132 #> + marital_status_woe       1    47143 47153 #> + area_code_res_phone_woe  1    47151 47161 #> + id_client_woe            1    47193 47203 #> + quant_add_cards_woe      1    47221 47231 #> <none>                          47226 47234 #> + months_in_residence_woe  1    47225 47235 #> + residence_type_woe       1    47226 47236 #> + personal_net_income_woe  1    47226 47236 #> - months_in_the_job_woe    1    47391 47397 #> - flag_res_phone_woe       1    47720 47726 #> - age_woe                  1    48148 48154 #>  #> Step:  AIC=47101.32 #> bad ~ age_woe + flag_res_phone_woe + months_in_the_job_woe +  #>     payment_day_woe #>  #>                           Df Deviance   AIC #> + sex_woe                  1    46981 46993 #> + profession_code_woe      1    46990 47002 #> + marital_status_woe       1    47009 47021 #> + area_code_res_phone_woe  1    47020 47032 #> + id_client_woe            1    47058 47070 #> + quant_add_cards_woe      1    47088 47100 #> <none>                          47091 47101 #> + months_in_residence_woe  1    47091 47103 #> + residence_type_woe       1    47091 47103 #> + personal_net_income_woe  1    47091 47103 #> - payment_day_woe          1    47226 47234 #> - months_in_the_job_woe    1    47263 47271 #> - flag_res_phone_woe       1    47569 47577 #> - age_woe                  1    47988 47996 #>  #> Step:  AIC=46993.36 #> bad ~ age_woe + flag_res_phone_woe + months_in_the_job_woe +  #>     payment_day_woe + sex_woe #>  #>                           Df Deviance   AIC #> + profession_code_woe      1    46876 46890 #> + marital_status_woe       1    46897 46911 #> + area_code_res_phone_woe  1    46908 46922 #> + id_client_woe            1    46948 46962 #> + quant_add_cards_woe      1    46964 46978 #> + personal_net_income_woe  1    46978 46992 #> <none>                          46981 46993 #> + months_in_residence_woe  1    46981 46995 #> + residence_type_woe       1    46981 46995 #> - sex_woe                  1    47091 47101 #> - payment_day_woe          1    47122 47132 #> - months_in_the_job_woe    1    47169 47179 #> - flag_res_phone_woe       1    47434 47444 #> - age_woe                  1    47794 47804 #>  #> Step:  AIC=46890.37 #> bad ~ age_woe + flag_res_phone_woe + months_in_the_job_woe +  #>     payment_day_woe + sex_woe + profession_code_woe #>  #>                           Df Deviance   AIC #> + marital_status_woe       1    46791 46807 #> + area_code_res_phone_woe  1    46809 46825 #> + id_client_woe            1    46843 46859 #> + quant_add_cards_woe      1    46863 46879 #> <none>                          46876 46890 #> + personal_net_income_woe  1    46875 46891 #> + residence_type_woe       1    46876 46892 #> + months_in_residence_woe  1    46876 46892 #> - profession_code_woe      1    46981 46993 #> - sex_woe                  1    46990 47002 #> - payment_day_woe          1    47009 47021 #> - months_in_the_job_woe    1    47077 47089 #> - flag_res_phone_woe       1    47321 47333 #> - age_woe                  1    47454 47466 #>  #> Step:  AIC=46806.62 #> bad ~ age_woe + flag_res_phone_woe + months_in_the_job_woe +  #>     payment_day_woe + sex_woe + profession_code_woe + marital_status_woe #>  #>                           Df Deviance   AIC #> + area_code_res_phone_woe  1    46729 46747 #> + id_client_woe            1    46758 46776 #> + quant_add_cards_woe      1    46784 46802 #> <none>                          46791 46807 #> + months_in_residence_woe  1    46790 46808 #> + personal_net_income_woe  1    46790 46808 #> + residence_type_woe       1    46790 46808 #> - marital_status_woe       1    46876 46890 #> - profession_code_woe      1    46897 46911 #> - sex_woe                  1    46906 46920 #> - payment_day_woe          1    46923 46937 #> - months_in_the_job_woe    1    46976 46990 #> - age_woe                  1    47113 47127 #> - flag_res_phone_woe       1    47223 47237 #>  #> Step:  AIC=46746.8 #> bad ~ age_woe + flag_res_phone_woe + months_in_the_job_woe +  #>     payment_day_woe + sex_woe + profession_code_woe + marital_status_woe +  #>     area_code_res_phone_woe #>  #>                           Df Deviance   AIC #> + id_client_woe            1    46697 46717 #> + quant_add_cards_woe      1    46722 46742 #> <none>                          46729 46747 #> + months_in_residence_woe  1    46728 46748 #> + personal_net_income_woe  1    46728 46748 #> + residence_type_woe       1    46729 46749 #> - area_code_res_phone_woe  1    46791 46807 #> - marital_status_woe       1    46809 46825 #> - profession_code_woe      1    46829 46845 #> - sex_woe                  1    46846 46862 #> - payment_day_woe          1    46858 46874 #> - months_in_the_job_woe    1    46918 46934 #> - flag_res_phone_woe       1    46949 46965 #> - age_woe                  1    47060 47076 #>  #> Step:  AIC=46716.9 #> bad ~ age_woe + flag_res_phone_woe + months_in_the_job_woe +  #>     payment_day_woe + sex_woe + profession_code_woe + marital_status_woe +  #>     area_code_res_phone_woe + id_client_woe #>  #>                           Df Deviance   AIC #> + quant_add_cards_woe      1    46690 46712 #> <none>                          46697 46717 #> + months_in_residence_woe  1    46696 46718 #> + personal_net_income_woe  1    46697 46719 #> + residence_type_woe       1    46697 46719 #> - id_client_woe            1    46729 46747 #> - area_code_res_phone_woe  1    46758 46776 #> - marital_status_woe       1    46777 46795 #> - profession_code_woe      1    46797 46815 #> - sex_woe                  1    46814 46832 #> - payment_day_woe          1    46827 46845 #> - months_in_the_job_woe    1    46886 46904 #> - flag_res_phone_woe       1    46917 46935 #> - age_woe                  1    47029 47047 #>  #> Step:  AIC=46712.06 #> bad ~ age_woe + flag_res_phone_woe + months_in_the_job_woe +  #>     payment_day_woe + sex_woe + profession_code_woe + marital_status_woe +  #>     area_code_res_phone_woe + id_client_woe + quant_add_cards_woe #>  #>                           Df Deviance   AIC #> <none>                          46690 46712 #> + months_in_residence_woe  1    46689 46713 #> + residence_type_woe       1    46690 46714 #> + personal_net_income_woe  1    46690 46714 #> - quant_add_cards_woe      1    46697 46717 #> - id_client_woe            1    46722 46742 #> - area_code_res_phone_woe  1    46751 46771 #> - marital_status_woe       1    46764 46784 #> - profession_code_woe      1    46787 46807 #> - sex_woe                  1    46814 46834 #> - payment_day_woe          1    46819 46839 #> - months_in_the_job_woe    1    46871 46891 #> - flag_res_phone_woe       1    46903 46923 #> - age_woe                  1    47013 47033 #>  #> Call:  glm(formula = bad ~ age_woe + flag_res_phone_woe + months_in_the_job_woe +  #>     payment_day_woe + sex_woe + profession_code_woe + marital_status_woe +  #>     area_code_res_phone_woe + id_client_woe + quant_add_cards_woe,  #>     family = binomial(link = logit), data = model$data) #>  #> Coefficients: #>             (Intercept)                  age_woe       flag_res_phone_woe   #>                 -1.4031                   0.5898                   0.6771   #>   months_in_the_job_woe          payment_day_woe                  sex_woe   #>                  0.5859                   0.8879                   0.8167   #>     profession_code_woe       marital_status_woe  area_code_res_phone_woe   #>                  0.5165                   0.3703                   0.4890   #>           id_client_woe      quant_add_cards_woe   #>                  1.0047                   0.2452   #>  #> Degrees of Freedom: 49693 Total (i.e. Null);  49683 Residual #> Null Deviance:\t    49380  #> Residual Deviance: 46690 \tAIC: 46710"},{"path":"http://jkunst.com/risk3r/reference/formula_from_reponse_and_predictors_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Get formula from reponse and predictors names — formula_from_reponse_and_predictors_names","title":"Get formula from reponse and predictors names — formula_from_reponse_and_predictors_names","text":"Get formula reponse predictors names","code":""},{"path":"http://jkunst.com/risk3r/reference/formula_from_reponse_and_predictors_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get formula from reponse and predictors names — formula_from_reponse_and_predictors_names","text":"","code":"formula_from_reponse_and_predictors_names(response, predictors)"},{"path":"http://jkunst.com/risk3r/reference/formula_from_reponse_and_predictors_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get formula from reponse and predictors names — formula_from_reponse_and_predictors_names","text":"response response predictors predictors","code":""},{"path":"http://jkunst.com/risk3r/reference/gain.html","id":null,"dir":"Reference","previous_headings":"","what":"Gains — gain","title":"Gains — gain","text":"Gains","code":""},{"path":"http://jkunst.com/risk3r/reference/gain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gains — gain","text":"","code":"gain(actual, predicted, percents = c(0.1, 0.2, 0.3, 0.4, 0.5))"},{"path":"http://jkunst.com/risk3r/reference/gain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gains — gain","text":"actual binary vector predicted numeric vector containing scores probabilities percents Values calculate gain","code":""},{"path":"http://jkunst.com/risk3r/reference/gain.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gains — gain","text":"","code":"N <- 10000  predicted <- runif(N)  actual <- rbinom(N, size = 1, prob = predicted)  gain(actual, predicted) #> [1] 0.1901953 0.3614727 0.5065094 0.6379170 0.7504068  gain(actual, predicted, c(0.5, 1)) #> [1] 0.7504068 1.0000000"},{"path":"http://jkunst.com/risk3r/reference/gg_model_roc.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot models — gg_model_roc","title":"Plot models — gg_model_roc","text":"Plot models","code":""},{"path":"http://jkunst.com/risk3r/reference/gg_model_roc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot models — gg_model_roc","text":"","code":"gg_model_roc(model, newdata = NULL, ...)  gg_model_ecdf(model, newdata = NULL, ...)  gg_model_dist(model, newdata = NULL, alpha = 0.5, ...)  gg_model_coef(model, level = 0.95, show_intercept = FALSE, ...)  gg_model_corr(model, upper = FALSE, ...)  gg_model_vif(model, colors = c(\"#3aaf85\", \"#1b6ca8\", \"#cd201f\"), ...)  gg_model_importance(model, verbose = TRUE, B = 10, ...)  gg_model_importance2(model, bins, ...)  gg_model_partials(model, newdata = NULL, verbose = TRUE, ...)  gg_model_calibration(   model,   newdata = NULL,   alpha = 0.01,   color = \"black\",   size = 1,   alpha_smooth = 0.5,   color_smooth = \"#3366FF\",   size_smooth = 1,   ... )"},{"path":"http://jkunst.com/risk3r/reference/gg_model_roc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot models — gg_model_roc","text":"model model newdata newdata ... ... alpha alpha level = 0.95 show_intercept show_intercept upper upper colors colors verbose verbose B B bins bins color color size size alpha_smooth alpha_smooth color_smooth color_smooth size_smooth size_smooth","code":""},{"path":"http://jkunst.com/risk3r/reference/gg_model_roc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot models — gg_model_roc","text":"","code":"data(\"credit_woe\")  m <- glm(bad ~ ., family = binomial, data = head(credit_woe, 10000)) m <- featsel_stepforward(m, scale = 5, trace = 0)  dnew <- tail(credit_woe, 10000)  gg_model_roc(m)  gg_model_roc(m, newdata = dnew, size = 2)   gg_model_ecdf(m)  gg_model_ecdf(m, newdata = dnew, size = 2)   gg_model_dist(m)  gg_model_dist(m, newdata = dnew, alpha = 0.4, color = \"transparent\")   gg_model_calibration(m) #> `geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = \"cs\")'  gg_model_calibration(m, newdata = dnew, alpha = 0.05, size = 2) #> `geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = \"cs\")'   gg_model_coef(m) #> Waiting for profiling to be done...   gg_model_corr(m) #>  #> Correlation method: 'pearson' #> Missing treated using: 'pairwise.complete.obs'   gg_model_vif(m)   gg_model_importance(m) #> Preparation of a new explainer is initiated #>   -> model label       :  lm  (  default  ) #>   -> data              :  10000  rows  6  cols  #>   -> data              :  tibble converted into a data.frame  #>   -> target variable   :  10000  values  #>   -> predict function  :  yhat.glm  will be used (  default  ) #>   -> predicted values  :  No value for predict function target column. (  default  ) #>   -> model_info        :  package stats , ver. 4.2.1 , task classification (  default  )  #>   -> predicted values  :  numerical, min =  0.03852792 , mean =  0.199 , max =  0.5331556   #>   -> residual function :  difference between y and yhat (  default  ) #>   -> residuals         :  numerical, min =  -0.5331556 , mean =  -4.122215e-10 , max =  0.9519349   #>   A new explainer has been created!     gg_model_partials(m) #> ℹ Fitting and evaluating model with 1 variables: age_woe #> ℹ Fitting and evaluating model with 2 variables: age_woe, flag_res_phone_woe #> ℹ Fitting and evaluating model with 3 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 4 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 5 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 6 variables: age_woe, flag_res_phone_woe, m...   gg_model_coef(m) + ggplot2::coord_flip() + ggplot2::scale_y_discrete(limits = rev) #> Waiting for profiling to be done...  gg_model_vif(m)  + ggplot2::coord_flip() + ggplot2::scale_x_discrete(limits = rev)  gg_model_corr(m, upper = TRUE) #>  #> Correlation method: 'pearson' #> Missing treated using: 'pairwise.complete.obs'  gg_model_corr(m, upper = TRUE) +  ggplot2::coord_flip() +  ggplot2::scale_y_discrete(limits = rev) +  ggplot2::scale_x_discrete(limits = rev) #>  #> Correlation method: 'pearson' #> Missing treated using: 'pairwise.complete.obs'    data(\"credit_woe\")  m <- glm(bad ~ ., family = binomial, data = head(credit_woe, 10000)) m <- featsel_stepforward(m, scale = 5, trace = 0)  bins <- scorecard::woebin(credit, \"bad\", no_cores = 1) #> [INFO] creating woe binning ...  #> Warning: There were 3 constant columns removed from input dataset, #> flag_other_card, flag_mobile_phone, flag_contact_phone  gg_model_importance2(m, bins)  gg_model_importance2(m, bins, fill = \"gray60\", width = 0.5)"},{"path":"http://jkunst.com/risk3r/reference/gg_woes.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot woes — gg_woes","title":"Plot woes — gg_woes","text":"Plot woes","code":""},{"path":"http://jkunst.com/risk3r/reference/gg_woes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot woes — gg_woes","text":"","code":"gg_woes(   woes,   variable = \"posprob\",   color_bar = \"gray75\",   color_line = \"#e22d36\",   ... )"},{"path":"http://jkunst.com/risk3r/reference/gg_woes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot woes — gg_woes","text":"woes woes variable variable color_bar color_bar color_line color_line ... ...","code":""},{"path":"http://jkunst.com/risk3r/reference/gg_woes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot woes — gg_woes","text":"","code":"data(\"woes\")  pps <- gg_woes(woes) #> id_client (IV = 0.42%) #> sex (IV = 2.60%) #> marital_status (IV = 9.60%) #> age (IV = 19.40%) #> flag_res_phone (IV = 7.54%) #> area_code_res_phone (IV = 4.17%) #> payment_day (IV = 2.18%) #> residence_type (IV = 0.72%) #> months_in_residence (IV = 1.72%) #> months_in_the_job (IV = 8.96%) #> profession_code (IV = 6.18%) #> personal_net_income (IV = 4.10%) #> quant_add_cards (IV = 1.84%)  if(require(patchwork)){    purrr::reduce(pps, `+`)  &      ggplot2::theme(        axis.text.x = ggplot2::element_text(size = 7),        axis.text.y = ggplot2::element_text(size = 7)        )  } #> Loading required package: patchwork   gg_woes(woes, variable = \"woe\") #> id_client (IV = 0.42%) #> sex (IV = 2.60%) #> marital_status (IV = 9.60%) #> age (IV = 19.40%) #> flag_res_phone (IV = 7.54%) #> area_code_res_phone (IV = 4.17%) #> payment_day (IV = 2.18%) #> residence_type (IV = 0.72%) #> months_in_residence (IV = 1.72%) #> months_in_the_job (IV = 8.96%) #> profession_code (IV = 6.18%) #> personal_net_income (IV = 4.10%) #> quant_add_cards (IV = 1.84%) #> $id_client  #>  #> $sex  #>  #> $marital_status  #>  #> $age  #>  #> $flag_res_phone  #>  #> $area_code_res_phone  #>  #> $payment_day  #>  #> $residence_type  #>  #> $months_in_residence  #>  #> $months_in_the_job  #>  #> $profession_code  #>  #> $personal_net_income  #>  #> $quant_add_cards  #>  gg_woes(woes, variable = \"bin_iv\") #> id_client (IV = 0.42%) #> sex (IV = 2.60%) #> marital_status (IV = 9.60%) #> age (IV = 19.40%) #> flag_res_phone (IV = 7.54%) #> area_code_res_phone (IV = 4.17%) #> payment_day (IV = 2.18%) #> residence_type (IV = 0.72%) #> months_in_residence (IV = 1.72%) #> months_in_the_job (IV = 8.96%) #> profession_code (IV = 6.18%) #> personal_net_income (IV = 4.10%) #> quant_add_cards (IV = 1.84%) #> $id_client  #>  #> $sex  #>  #> $marital_status  #>  #> $age  #>  #> $flag_res_phone  #>  #> $area_code_res_phone  #>  #> $payment_day  #>  #> $residence_type  #>  #> $months_in_residence  #>  #> $months_in_the_job  #>  #> $profession_code  #>  #> $personal_net_income  #>  #> $quant_add_cards  #>"},{"path":"http://jkunst.com/risk3r/reference/hhi.html","id":null,"dir":"Reference","previous_headings":"","what":"Herfindahl-Hirschman Index — hhi","title":"Herfindahl-Hirschman Index — hhi","text":"Herfindahl-Hirschman Index","code":""},{"path":"http://jkunst.com/risk3r/reference/hhi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Herfindahl-Hirschman Index — hhi","text":"","code":"hhi(x)"},{"path":"http://jkunst.com/risk3r/reference/hhi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Herfindahl-Hirschman Index — hhi","text":"x vector obtain HHI.","code":""},{"path":"http://jkunst.com/risk3r/reference/hhi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Herfindahl-Hirschman Index — hhi","text":"","code":"x <- sample(LETTERS[1:10], size = 1000, replace = TRUE, prob = log(1:10))  hhi(x) #> [1] 0.124162  plot(table(x), main = hhi_label(hhi(x)))   x <- sample(LETTERS[1:5], size = 1000, replace = TRUE, prob = exp(1:5))  hhi(x) #> [1] 0.49349  plot(table(x), main = hhi_label(hhi(x)))"},{"path":"http://jkunst.com/risk3r/reference/hhi_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Get labels for HHI. indexes — hhi_label","title":"Get labels for HHI. indexes — hhi_label","text":"Get labels HHI. indexes","code":""},{"path":"http://jkunst.com/risk3r/reference/hhi_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get labels for HHI. indexes — hhi_label","text":"","code":"hhi_label(x)"},{"path":"http://jkunst.com/risk3r/reference/hhi_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get labels for HHI. indexes — hhi_label","text":"x numeric vector","code":""},{"path":"http://jkunst.com/risk3r/reference/hhi_label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get labels for HHI. indexes — hhi_label","text":"","code":"hhi_label(c(0.2, 2)) #> [1] moderate concentration high concentration     #> 4 Levels: highly diverse unconcentrated ... high concentration"},{"path":"http://jkunst.com/risk3r/reference/hmeq.html","id":null,"dir":"Reference","previous_headings":"","what":"hmeq data — hmeq","title":"hmeq data — hmeq","text":"http://www.creditriskanalytics.net/datasets-private2.html","code":""},{"path":"http://jkunst.com/risk3r/reference/hmeq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"hmeq data — hmeq","text":"","code":"hmeq"},{"path":"http://jkunst.com/risk3r/reference/hmeq.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"hmeq data — hmeq","text":"data frame 5,960 observations 13 variables.","code":""},{"path":"http://jkunst.com/risk3r/reference/information_value.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Information Value — information_value","title":"Calculate Information Value — information_value","text":"Calculate Information Value","code":""},{"path":"http://jkunst.com/risk3r/reference/information_value.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Information Value — information_value","text":"","code":"information_value(actual, predicted)"},{"path":"http://jkunst.com/risk3r/reference/information_value.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Information Value — information_value","text":"actual binary vector predicted vector: character, numeric containing scores probabilities","code":""},{"path":"http://jkunst.com/risk3r/reference/information_value.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Information Value — information_value","text":"KS statistic","code":""},{"path":"http://jkunst.com/risk3r/reference/information_value.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Information Value — information_value","text":"","code":"N <- 10000  predicted <- runif(N)  actual <- rbinom(N, size = 1, prob = predicted)  information_value(actual, predicted) #> [1] 1.690473  predicted[sample(c(TRUE, FALSE), size = N, prob = c(1, 99), replace = TRUE)] <- NA  information_value(actual, predicted) #> [1] 1.675909"},{"path":"http://jkunst.com/risk3r/reference/iv_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Get labels for Information Values — iv_label","title":"Get labels for Information Values — iv_label","text":"Get labels Information Values","code":""},{"path":"http://jkunst.com/risk3r/reference/iv_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get labels for Information Values — iv_label","text":"","code":"iv_label(x)"},{"path":"http://jkunst.com/risk3r/reference/iv_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get labels for Information Values — iv_label","text":"x numeric vector","code":""},{"path":"http://jkunst.com/risk3r/reference/iv_label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get labels for Information Values — iv_label","text":"","code":"N <- 10000  predicted <- runif(N)  actual <- rbinom(N, size = 1, prob = predicted)  iv_label(information_value(actual, predicted)) #> [1] suspicious #> Levels: unpredictive weak medium strong suspicious  predicted <- runif(N)  iv_label(information_value(actual, predicted)) #> [1] unpredictive #> Levels: unpredictive weak medium strong suspicious"},{"path":"http://jkunst.com/risk3r/reference/ks.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Kolmogorov-Smirnov statistic — ks","title":"Calculate Kolmogorov-Smirnov statistic — ks","text":"metrics Metrics package https://github.com/mfrasco/Metrics","code":""},{"path":"http://jkunst.com/risk3r/reference/ks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Kolmogorov-Smirnov statistic — ks","text":"","code":"ks(actual, predicted)"},{"path":"http://jkunst.com/risk3r/reference/ks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Kolmogorov-Smirnov statistic — ks","text":"actual binary vector predicted numeric vector containing scores probabilities","code":""},{"path":"http://jkunst.com/risk3r/reference/ks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Kolmogorov-Smirnov statistic — ks","text":"KS statistic","code":""},{"path":"http://jkunst.com/risk3r/reference/ks.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Kolmogorov-Smirnov statistic — ks","text":"","code":"N <- 10000  predicted <- runif(N)  actual <- rbinom(N, size = 1, prob = predicted)  ks(actual, predicted) #> [1] 0.4917823  predicted[sample(c(TRUE, FALSE), size = N, prob = c(1, 99), replace = TRUE)] <- NA  ks(actual, predicted) #> 100 of 10000 'predicted' values are NAs, they will be ignorated #> [1] 0.4924969"},{"path":"http://jkunst.com/risk3r/reference/metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Metrics — metrics","title":"Metrics — metrics","text":"Metrics Metrics package https://github.com/mfrasco/Metrics","code":""},{"path":"http://jkunst.com/risk3r/reference/metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Metrics — metrics","text":"","code":"metrics(actual, predicted)"},{"path":"http://jkunst.com/risk3r/reference/metrics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Metrics — metrics","text":"actual binary vector predicted numeric vector containing scores probabilities","code":""},{"path":"http://jkunst.com/risk3r/reference/metrics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Metrics — metrics","text":"data frame usual opinionated metrics","code":""},{"path":"http://jkunst.com/risk3r/reference/metrics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Metrics — metrics","text":"","code":"N <- 10000  predicted <- runif(N)  actual <- rbinom(N, size = 1, prob = predicted)  metrics(actual, predicted) #> # A tibble: 1 × 4 #>      ks   auc    iv  gini #>   <dbl> <dbl> <dbl> <dbl> #> 1 0.504 0.834  1.76 0.669  predicted[sample(c(TRUE, FALSE), size = N, prob = c(1, 99), replace = TRUE)] <- NA  metrics(actual, predicted) #> 104 of 10000 'predicted' values are NAs, they will be ignorated #> # A tibble: 1 × 4 #>      ks   auc    iv  gini #>   <dbl> <dbl> <dbl> <dbl> #> 1 0.504 0.828  1.74 0.655"},{"path":"http://jkunst.com/risk3r/reference/model_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate predictive metrics for glm models — model_metrics","title":"Calculate predictive metrics for glm models — model_metrics","text":"Calculate predictive metrics glm models","code":""},{"path":"http://jkunst.com/risk3r/reference/model_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate predictive metrics for glm models — model_metrics","text":"","code":"model_metrics(model, newdata = NULL)"},{"path":"http://jkunst.com/risk3r/reference/model_metrics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate predictive metrics for glm models — model_metrics","text":"model model newdata Optional data frame","code":""},{"path":"http://jkunst.com/risk3r/reference/model_metrics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate predictive metrics for glm models — model_metrics","text":"","code":"N <- 10000 predicted <- runif(N) actual <- rbinom(N, size = 1, prob = predicted)  daux <- data.frame(actual = actual, predicted = predicted) m <- glm(actual ~ predicted, family = binomial, data = daux)  model_metrics(m) #> # A tibble: 1 × 4 #>      ks   auc    iv  gini #>   <dbl> <dbl> <dbl> <dbl> #> 1 0.497 0.831  1.73 0.662 model_metrics(m, newdata = head(daux, 100)) #> # A tibble: 1 × 4 #>      ks   auc    iv  gini #>   <dbl> <dbl> <dbl> <dbl> #> 1 0.583 0.856  2.51 0.711"},{"path":"http://jkunst.com/risk3r/reference/model_partials.html","id":null,"dir":"Reference","previous_headings":"","what":"Get predictive indicator for partial models given a model — model_partials","title":"Get predictive indicator for partial models given a model — model_partials","text":"Get predictive indicator partial models given model","code":""},{"path":"http://jkunst.com/risk3r/reference/model_partials.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get predictive indicator for partial models given a model — model_partials","text":"","code":"model_partials(model, newdata = NULL, verbose = TRUE)"},{"path":"http://jkunst.com/risk3r/reference/model_partials.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get predictive indicator for partial models given a model — model_partials","text":"model model newdata Optional data frame verbose verbose","code":""},{"path":"http://jkunst.com/risk3r/reference/model_partials.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get predictive indicator for partial models given a model — model_partials","text":"","code":"data(\"credit_woe\")  m <- glm(bad ~ age_woe + flag_res_phone_woe + months_in_the_job_woe +    payment_day_woe + sex_woe + profession_code_woe + marital_status_woe,    family = binomial, data = head(credit_woe, 10000)    )  model_partials(m) #> ℹ Fitting and evaluating model with 1 variables: age_woe #> ℹ Fitting and evaluating model with 2 variables: age_woe, flag_res_phone_woe #> ℹ Fitting and evaluating model with 3 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 4 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 5 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 6 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 7 variables: age_woe, flag_res_phone_woe, m... #> # A tibble: 7 × 5 #>   variable                 ks   auc    iv  gini #>   <fct>                 <dbl> <dbl> <dbl> <dbl> #> 1 age_woe               0.204 0.624 0.190 0.248 #> 2 flag_res_phone_woe    0.207 0.641 0.248 0.283 #> 3 months_in_the_job_woe 0.223 0.650 0.276 0.301 #> 4 payment_day_woe       0.238 0.656 0.304 0.312 #> 5 sex_woe               0.247 0.659 0.309 0.319 #> 6 profession_code_woe   0.244 0.661 0.329 0.321 #> 7 marital_status_woe    0.244 0.662 0.335 0.324  model_partials(m, newdata = tail(credit_woe, 10000)) #> ℹ Fitting and evaluating model with 1 variables: age_woe #> ℹ Fitting and evaluating model with 2 variables: age_woe, flag_res_phone_woe #> ℹ Fitting and evaluating model with 3 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 4 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 5 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 6 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 7 variables: age_woe, flag_res_phone_woe, m... #> # A tibble: 14 × 6 #>    variable              sample    ks   auc    iv  gini #>    <fct>                 <fct>  <dbl> <dbl> <dbl> <dbl> #>  1 age_woe               train  0.204 0.624 0.190 0.248 #>  2 age_woe               test   0.194 0.624 0.213 0.249 #>  3 flag_res_phone_woe    train  0.207 0.641 0.248 0.283 #>  4 flag_res_phone_woe    test   0.208 0.645 0.262 0.289 #>  5 months_in_the_job_woe train  0.223 0.650 0.276 0.301 #>  6 months_in_the_job_woe test   0.225 0.654 0.312 0.307 #>  7 payment_day_woe       train  0.238 0.656 0.304 0.312 #>  8 payment_day_woe       test   0.234 0.658 0.335 0.317 #>  9 sex_woe               train  0.247 0.659 0.309 0.319 #> 10 sex_woe               test   0.241 0.665 0.344 0.329 #> 11 profession_code_woe   train  0.244 0.661 0.329 0.321 #> 12 profession_code_woe   test   0.249 0.669 0.365 0.337 #> 13 marital_status_woe    train  0.244 0.662 0.335 0.324 #> 14 marital_status_woe    test   0.251 0.671 0.385 0.341"},{"path":"http://jkunst.com/risk3r/reference/model_summary_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Get summary of model — model_summary_variables","title":"Get summary of model — model_summary_variables","text":"Get summary model","code":""},{"path":"http://jkunst.com/risk3r/reference/model_summary_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get summary of model — model_summary_variables","text":"","code":"model_summary_variables(   model,   coef_sign = 1,   limit_significance = 0.05,   limit_iv = 0.02,   limit_corr = 0.6,   limit_vif = 5 )  model_corr_variables(model)  model_vif_variables(model)  model_iv_variables(model)"},{"path":"http://jkunst.com/risk3r/reference/model_summary_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get summary of model — model_summary_variables","text":"model model coef_sign Sign compare estimaes. limit_significance Limit Significance. limit_iv Limit Information Value. limit_corr Limit correlation max variables. limit_vif Limit VIF.","code":""},{"path":"http://jkunst.com/risk3r/reference/model_summary_variables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get summary of model — model_summary_variables","text":"","code":"data(\"credit_woe\")  data(\"credit_woe\")  m <- glm(bad ~ age_woe + flag_res_phone_woe + months_in_the_job_woe +    payment_day_woe + sex_woe + profession_code_woe + marital_status_woe,    family = binomial, data = head(credit_woe, 10000)    )  model_partials(m) #> ℹ Fitting and evaluating model with 1 variables: age_woe #> ℹ Fitting and evaluating model with 2 variables: age_woe, flag_res_phone_woe #> ℹ Fitting and evaluating model with 3 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 4 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 5 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 6 variables: age_woe, flag_res_phone_woe, m... #> ℹ Fitting and evaluating model with 7 variables: age_woe, flag_res_phone_woe, m... #> # A tibble: 7 × 5 #>   variable                 ks   auc    iv  gini #>   <fct>                 <dbl> <dbl> <dbl> <dbl> #> 1 age_woe               0.204 0.624 0.190 0.248 #> 2 flag_res_phone_woe    0.207 0.641 0.248 0.283 #> 3 months_in_the_job_woe 0.223 0.650 0.276 0.301 #> 4 payment_day_woe       0.238 0.656 0.304 0.312 #> 5 sex_woe               0.247 0.659 0.309 0.319 #> 6 profession_code_woe   0.244 0.661 0.329 0.321 #> 7 marital_status_woe    0.244 0.662 0.335 0.324  model_summary_variables(m) #>  #> Correlation method: 'pearson' #> Missing treated using: 'pairwise.complete.obs' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> # A tibble: 8 × 15 #>   term    estim…¹ std.e…² stati…³  p.value corre…⁴      iv iv_la…⁵   vif vif_l…⁶ #>   <chr>     <dbl>   <dbl>   <dbl>    <dbl>   <dbl>   <dbl> <fct>   <dbl> <fct>   #> 1 (Inter…  -1.40   0.0262  -53.4  0        NA      NA      NA      NA    NA      #> 2 age_woe   0.673  0.0736    9.14 6.53e-20  0.465   0.208  medium   1.47 low (<… #> 3 flag_r…   0.853  0.0898    9.50 2.19e-21  0.0637  0.0749 weak     1.01 low (<… #> 4 months…   0.623  0.0986    6.32 2.64e-10  0.339   0.0948 weak     1.13 low (<… #> 5 paymen…   0.780  0.172     4.53 6.04e- 6  0.0640  0.0185 unpred…  1.01 low (<… #> 6 sex_woe   0.744  0.158     4.71 2.49e- 6  0.107   0.0265 weak     1.02 low (<… #> 7 profes…   0.420  0.120     3.50 4.68e- 4  0.354   0.0537 weak     1.09 low (<… #> 8 marita…   0.294  0.0957    3.07 2.14e- 3  0.465   0.0866 weak     1.27 low (<… #> # … with 5 more variables: dummy_significance <lgl>, dummy_sign <lgl>, #> #   dummy_iv <lgl>, dummy_correlation <lgl>, dummy_vif <lgl>, and abbreviated #> #   variable names ¹​estimate, ²​std.error, ³​statistic, ⁴​correlation_max, #> #   ⁵​iv_label, ⁶​vif_label #> # ℹ Use `colnames()` to see all variable names  model_corr_variables(m) #>  #> Correlation method: 'pearson' #> Missing treated using: 'pairwise.complete.obs' #> # A tibble: 49 × 3 #>    term                  term2                  cor #>    <fct>                 <fct>                <dbl> #>  1 age_woe               age_woe            NA      #>  2 flag_res_phone_woe    age_woe             0.0633 #>  3 months_in_the_job_woe age_woe             0.339  #>  4 payment_day_woe       age_woe             0.0415 #>  5 sex_woe               age_woe             0.107  #>  6 profession_code_woe   age_woe             0.354  #>  7 marital_status_woe    age_woe             0.465  #>  8 age_woe               flag_res_phone_woe  0.0633 #>  9 flag_res_phone_woe    flag_res_phone_woe NA      #> 10 months_in_the_job_woe flag_res_phone_woe  0.0437 #> # … with 39 more rows #> # ℹ Use `print(n = ...)` to see more rows  model_vif_variables(m) #> # A tibble: 7 × 3 #>   term                    vif vif_label #>   <fct>                 <dbl> <fct>     #> 1 age_woe                1.47 low (<5)  #> 2 flag_res_phone_woe     1.01 low (<5)  #> 3 months_in_the_job_woe  1.13 low (<5)  #> 4 payment_day_woe        1.01 low (<5)  #> 5 sex_woe                1.02 low (<5)  #> 6 profession_code_woe    1.09 low (<5)  #> 7 marital_status_woe     1.27 low (<5)   model_iv_variables(m) #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> Warning: one argument not used by format '[INFO] The option bin_close_right was set to %s. #> ' #> # A tibble: 7 × 3 #>   term                      iv iv_label     #>   <chr>                  <dbl> <fct>        #> 1 age_woe               0.208  medium       #> 2 flag_res_phone_woe    0.0749 weak         #> 3 months_in_the_job_woe 0.0948 weak         #> 4 payment_day_woe       0.0185 unpredictive #> 5 sex_woe               0.0265 weak         #> 6 profession_code_woe   0.0537 weak         #> 7 marital_status_woe    0.0866 weak"},{"path":"http://jkunst.com/risk3r/reference/n_growths.html","id":null,"dir":"Reference","previous_headings":"","what":"Number of up/growths — n_growths","title":"Number of up/growths — n_growths","text":"Number /growths","code":""},{"path":"http://jkunst.com/risk3r/reference/n_growths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Number of up/growths — n_growths","text":"","code":"n_growths(x)"},{"path":"http://jkunst.com/risk3r/reference/n_growths.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Number of up/growths — n_growths","text":"x numeric vector calculate number growths","code":""},{"path":"http://jkunst.com/risk3r/reference/n_growths.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Number of up/growths — n_growths","text":"","code":"set.seed(123)  x <- round(cumsum(rnorm(24)) * 100, 0) x <- abs(x) x #>  [1]  56  79  77  84  97 268 314 188 119  75 197 233 273 284 229 407 457 260 331 #> [20] 283 176 155  52  21  plot(x, type = \"l\")   n_growths(x) #> [1] 12  n_growths(c(1, 2, 0)) #> [1] 1  n_growths(c(0)) #> [1] 0"},{"path":"http://jkunst.com/risk3r/reference/psi_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Get labels for PSIs — psi_label","title":"Get labels for PSIs — psi_label","text":"Get labels PSIs","code":""},{"path":"http://jkunst.com/risk3r/reference/psi_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get labels for PSIs — psi_label","text":"","code":"psi_label(x)"},{"path":"http://jkunst.com/risk3r/reference/psi_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get labels for PSIs — psi_label","text":"x numeric vector","code":""},{"path":"http://jkunst.com/risk3r/reference/psi_label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get labels for PSIs — psi_label","text":"","code":"psi_label(c(0.2, 2)) #> [1] some minor change         major shift in population #> Levels: insignificant change some minor change major shift in population"},{"path":"http://jkunst.com/risk3r/reference/psi_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to calculate the vector table given 2 vector of counts — psi_table","title":"Function to calculate the vector table given 2 vector of counts — psi_table","text":"Function calculate vector table given 2 vector counts","code":""},{"path":"http://jkunst.com/risk3r/reference/psi_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to calculate the vector table given 2 vector of counts — psi_table","text":"","code":"psi_table(old, new)"},{"path":"http://jkunst.com/risk3r/reference/psi_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to calculate the vector table given 2 vector of counts — psi_table","text":"old vector original distribution new vector new distribution","code":""},{"path":"http://jkunst.com/risk3r/reference/psi_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to calculate the vector table given 2 vector of counts — psi_table","text":"table psi index (value) label table counts, percents, woe.","code":""},{"path":"http://jkunst.com/risk3r/reference/psi_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to calculate the vector table given 2 vector of counts — psi_table","text":"","code":"o <- factor(sample(letters[1:5], size = 9000, prob = 1:5, replace = TRUE)) n <- factor(sample(letters[1:5], size = 1000, prob = 1:5 + 4, replace = TRUE))  psi_table(o, n) #> # A tibble: 5 × 6 #>   category count_old count_new percent_old percent_new      psi #>   <fct>        <int>     <int>       <dbl>       <dbl>    <dbl> #> 1 a              570       148      0.0633       0.148 0.0719   #> 2 b             1175       160      0.131        0.16  0.00599  #> 3 c             1808       191      0.201        0.191 0.000499 #> 4 d             2442       247      0.271        0.247 0.00229  #> 5 e             3005       254      0.334        0.254 0.0218"},{"path":"http://jkunst.com/risk3r/reference/psi_vector.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to calculate the vector psi given 2 vector of counts — psi_vector","title":"Function to calculate the vector psi given 2 vector of counts — psi_vector","text":"Function calculate vector psi given 2 vector counts","code":""},{"path":"http://jkunst.com/risk3r/reference/psi_vector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to calculate the vector psi given 2 vector of counts — psi_vector","text":"","code":"psi_vector(old, new)"},{"path":"http://jkunst.com/risk3r/reference/psi_vector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to calculate the vector psi given 2 vector of counts — psi_vector","text":"old vector original count distribution new vector new count distribution","code":""},{"path":"http://jkunst.com/risk3r/reference/psi_vector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to calculate the vector psi given 2 vector of counts — psi_vector","text":"vector psi index (value) label table counts, percents, woe.","code":""},{"path":"http://jkunst.com/risk3r/reference/psi_vector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to calculate the vector psi given 2 vector of counts — psi_vector","text":"","code":"o <- sample(letters[1:5], size = 9000, prob = 1:5, replace = TRUE) n <- sample(letters[1:5], size = 1000, prob = 1:5 + 4, replace = TRUE)  table(o) #> o #>    a    b    c    d    e  #>  589 1218 1749 2440 3004  table(n) #> n #>   a   b   c   d   e  #> 130 163 187 242 278   psi_vector(   table(o),   table(n) ) #> n #>            a            b            c            d            e  #> 0.0443065980 0.0051462581 0.0002820861 0.0033067607 0.0101992077   p <- psi_vector(   table(o),   table(n) )  p #> n #>            a            b            c            d            e  #> 0.0443065980 0.0051462581 0.0002820861 0.0033067607 0.0101992077   sum(p) #> [1] 0.06324091  psi_label(sum(p)) #> [1] insignificant change #> Levels: insignificant change some minor change major shift in population"},{"path":"http://jkunst.com/risk3r/reference/reponse_and_predictors_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Get response and predictors names from model — reponse_and_predictors_names","title":"Get response and predictors names from model — reponse_and_predictors_names","text":"Get response predictors names model","code":""},{"path":"http://jkunst.com/risk3r/reference/reponse_and_predictors_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get response and predictors names from model — reponse_and_predictors_names","text":"","code":"reponse_and_predictors_names(model)"},{"path":"http://jkunst.com/risk3r/reference/reponse_and_predictors_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get response and predictors names from model — reponse_and_predictors_names","text":"model model","code":""},{"path":"http://jkunst.com/risk3r/reference/risk3r-exports.html","id":null,"dir":"Reference","previous_headings":"","what":"risk3r exported operators and S3 methods — risk3r-exports","title":"risk3r exported operators and S3 methods — risk3r-exports","text":"following functions imported re-exported risk3r package avoid listing magrittr Depends risk3r.","code":""},{"path":"http://jkunst.com/risk3r/reference/risk3r.html","id":null,"dir":"Reference","previous_headings":"","what":"Risk3r — risk3r","title":"Risk3r — risk3r","text":"Set fuctions work risk modelling","code":""},{"path":"http://jkunst.com/risk3r/reference/risk3r.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Risk3r — risk3r","text":"Joshua Kunst (@jbkunst)","code":""},{"path":"http://jkunst.com/risk3r/reference/roc_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Auxiliar functions for data plots — roc_data","title":"Auxiliar functions for data plots — roc_data","text":"Auxiliar functions data plots","code":""},{"path":"http://jkunst.com/risk3r/reference/roc_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Auxiliar functions for data plots — roc_data","text":"","code":"roc_data(actual, predicted)  ecdf_data(actual, predicted)"},{"path":"http://jkunst.com/risk3r/reference/roc_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Auxiliar functions for data plots — roc_data","text":"actual actual predicted predicted","code":""},{"path":"http://jkunst.com/risk3r/reference/roc_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Auxiliar functions for data plots — roc_data","text":"","code":"N <- 10000 predicted <- runif(N) actual <- rbinom(N, size = 1, prob = predicted)  roc_data(actual, predicted) #> # A tibble: 10,001 × 2 #>        x        y #>    <dbl>    <dbl> #>  1     0 0        #>  2     0 0.000197 #>  3     0 0.000394 #>  4     0 0.000591 #>  5     0 0.000788 #>  6     0 0.000984 #>  7     0 0.00118  #>  8     0 0.00138  #>  9     0 0.00158  #> 10     0 0.00177  #> # … with 9,991 more rows #> # ℹ Use `print(n = ...)` to see more rows ecdf_data(actual, predicted) #> # A tibble: 10,000 × 3 #>    actual predicted     ecdf #>     <int>     <dbl>    <dbl> #>  1      0  0.000246 0.000203 #>  2      0  0.000289 0.000406 #>  3      0  0.000409 0.000610 #>  4      0  0.000419 0.000813 #>  5      0  0.000449 0.00102  #>  6      0  0.000487 0.00122  #>  7      0  0.000549 0.00142  #>  8      0  0.000588 0.00163  #>  9      0  0.000710 0.00183  #> 10      0  0.000784 0.00203  #> # … with 9,990 more rows #> # ℹ Use `print(n = ...)` to see more rows"},{"path":"http://jkunst.com/risk3r/reference/rsi.html","id":null,"dir":"Reference","previous_headings":"","what":"Relative Strength Index (RSI) and Chande Momentum Oscillator (CMO) — rsi","title":"Relative Strength Index (RSI) and Chande Momentum Oscillator (CMO) — rsi","text":"Relative Strength Index (RSI) Chande Momentum Oscillator (CMO)","code":""},{"path":"http://jkunst.com/risk3r/reference/rsi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Relative Strength Index (RSI) and Chande Momentum Oscillator (CMO) — rsi","text":"","code":"rsi(x)  cmo(x)"},{"path":"http://jkunst.com/risk3r/reference/rsi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Relative Strength Index (RSI) and Chande Momentum Oscillator (CMO) — rsi","text":"x numeric vector calculate RSI","code":""},{"path":"http://jkunst.com/risk3r/reference/rsi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Relative Strength Index (RSI) and Chande Momentum Oscillator (CMO) — rsi","text":"","code":"set.seed(123)  x <- round(cumsum(rnorm(24)) * 100, 0) x <- abs(x) x #>  [1]  56  79  77  84  97 268 314 188 119  75 197 233 273 284 229 407 457 260 331 #> [20] 283 176 155  52  21  plot(x, type = \"l\")   rsi(x) #> [1] 48.88606  # just test rsi(rev(x)) #> [1] 51.11394  rsi(x) + rsi(rev(x)) #> [1] 100"},{"path":"http://jkunst.com/risk3r/reference/vif_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Get labels for VIF values — vif_label","title":"Get labels for VIF values — vif_label","text":"Get labels VIF values","code":""},{"path":"http://jkunst.com/risk3r/reference/vif_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get labels for VIF values — vif_label","text":"","code":"vif_label(x)"},{"path":"http://jkunst.com/risk3r/reference/vif_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get labels for VIF values — vif_label","text":"x numeric vector","code":""},{"path":"http://jkunst.com/risk3r/reference/vif_label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get labels for VIF values — vif_label","text":"","code":"set.seed(123)  vifs <- sample(1:10)  vif_label(vifs) #>  [1] low (<5)       high (>= 10)   low (<5)       moderate (<10) moderate (<10) #>  [6] moderate (<10) low (<5)       moderate (<10) moderate (<10) low (<5)       #> Levels: low (<5) moderate (<10) high (>= 10)"},{"path":"http://jkunst.com/risk3r/reference/woebin2.html","id":null,"dir":"Reference","previous_headings":"","what":"woebin fix for windows — woebin2","title":"woebin fix for windows — woebin2","text":"wrapper scorecard::woebin, fixes problem  replicate cuts given windows machines.","code":""},{"path":"http://jkunst.com/risk3r/reference/woebin2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"woebin fix for windows — woebin2","text":"","code":"woebin2(   dt,   y,   x = NULL,   var_skip = NULL,   breaks_list = NULL,   special_values = NULL,   stop_limit = 0.1,   count_distr_limit = 0.05,   bin_num_limit = 8,   positive = \"bad|1\",   no_cores = NULL,   print_step = 0L,   method = \"tree\",   save_breaks_list = NULL,   ignore_const_cols = TRUE,   ignore_datetime_cols = TRUE,   check_cate_num = TRUE,   replace_blank_inf = TRUE,   control = partykit::ctree_control() )"},{"path":"http://jkunst.com/risk3r/reference/woebin2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"woebin fix for windows — woebin2","text":"dt data frame x (predictor/feature) y (response/label) variables. y Name y variable. x Name x variables. Defaults NULL. x NULL, columns except y var_skip counted x variables. var_skip Name variables skip binning. Defaults NULL. breaks_list List break points, Defaults NULL. NULL, variable binning based provided breaks. special_values values specified special_values separate bins. Defaults NULL. stop_limit Stop binning segmentation information value gain ratio less 'stop_limit' using tree method; stop binning merge chi-square neighbor bins larger threshold significance level 'stop_limit' freedom degree 1 using chimerge method. Accepted range: 0-0.5; Defaults 0.1. 'N', x value bin. count_distr_limit minimum count distribution percentage. Accepted range: 0.01-0.2; Defaults 0.05. bin_num_limit Integer. maximum number binning. Defaults 8. positive Value positive class, defaults \"bad|1\". no_cores Number CPU cores parallel computation. Defaults 90 percent total cpu cores. print_step non-negative integer. Defaults 1. print_step>0, print variable names print_step-th iteration. print_step=0 no_cores>1, message print. method Four methods provided, \"tree\" \"chimerge\" optimal binning support numerical categorical variables, 'width' 'freq' equal binning support numerical variables . Defaults \"tree\". save_breaks_list string. file name save breaks_list. Defaults None. ignore_const_cols Logical. Ignore constant columns. Defaults TRUE. ignore_datetime_cols Logical. Ignore datetime columns. Defaults TRUE. check_cate_num Logical. Check whether number unique values categorical columns larger 50. might make binning process slow many unique categories. Defaults TRUE. replace_blank_inf Logical. Replace blank values NA infinite -1. Defaults TRUE. control ctree::ctree_control list element","code":""},{"path":"http://jkunst.com/risk3r/reference/woebin2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"woebin fix for windows — woebin2","text":"See https://github.com/ShichenXie/scorecard/issues/50 details.","code":""},{"path":"http://jkunst.com/risk3r/reference/woebin2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"woebin fix for windows — woebin2","text":"","code":"if (FALSE) {   data(germancredit, package = \"scorecard\")    bins <- woebin2(     dt = germancredit,     y = \"creditability\",     # x = c(\"credit.amount\", \"housing\", \"duration.in.month\", \"purpose\"),     no_cores = 0,     method = \"tree\"   )    bins    if (require(scorecard)) {     library(scorecard)     options(bin_close_right = TRUE)   }    bins <- woebin2(     dt = germancredit,     y = \"creditability\",     # x = c(\"credit.amount\", \"housing\", \"duration.in.month\", \"purpose\"),     no_cores = 0,     method = \"tree\"   )    bins    bins_ctree <- woebin2(     dt = germancredit,     y = \"creditability\",     method = \"ctree\",     no_cores = 0,     control = partykit::ctree_control(alpha = 1, maxdepth = 4)   )    woebin_summary(bins)   woebin_summary(bins_ctree) }"},{"path":"http://jkunst.com/risk3r/reference/woebin_cor_iv.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a tidy data frame with a correlations and IV — woebin_cor_iv","title":"Create a tidy data frame with a correlations and IV — woebin_cor_iv","text":"Create tidy data frame correlations IV","code":""},{"path":"http://jkunst.com/risk3r/reference/woebin_cor_iv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a tidy data frame with a correlations and IV — woebin_cor_iv","text":"","code":"woebin_cor_iv(dt, bins, upper = FALSE, plot = TRUE)"},{"path":"http://jkunst.com/risk3r/reference/woebin_cor_iv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a tidy data frame with a correlations and IV — woebin_cor_iv","text":"dt data frame apply `scorecard::woebin_ply` calculate correlations. bins output `scorecard::woebin` create woe variables upper upper plot plot","code":""},{"path":"http://jkunst.com/risk3r/reference/woebin_cor_iv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a tidy data frame with a correlations and IV — woebin_cor_iv","text":"","code":"if (FALSE) {   data(germancredit, package = \"scorecard\")    vars <- c(     \"creditability\", \"duration.in.month\", \"credit.history\",     \"purpose\", \"status.of.existing.checking.account\", \"property\"   )    dat <- germancredit[, vars]    bins <- woebin2(dat, y = \"creditability\", stop_limit = 0.0000001)    woebin_cor_iv(dat, bins)    datcor <- woebin_cor_iv(dat, bins)    library(dplyr)    cor_limit <- 0.15    datcor %>%     filter(variable_1 != variable_2) %>%     mutate(       cor_conflict = ifelse(abs(cor) > cor_limit, TRUE, FALSE),       variable_to_remove = ifelse(         cor_conflict,         ifelse(iv_variable_1 > iv_variable_2, variable_2, variable_1),         NA       )     ) }"},{"path":"http://jkunst.com/risk3r/reference/woebin_ctree.html","id":null,"dir":"Reference","previous_headings":"","what":"Interface scorecard::woebin for partykiy::ctree — woebin_ctree","title":"Interface scorecard::woebin for partykiy::ctree — woebin_ctree","text":"Interface scorecard::woebin partykiy::ctree","code":""},{"path":"http://jkunst.com/risk3r/reference/woebin_ctree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interface scorecard::woebin for partykiy::ctree — woebin_ctree","text":"","code":"woebin_ctree(   y,   x,   namevar = \"variable\",   count_distr_limit = 0.05,   control = partykit::ctree_control() )"},{"path":"http://jkunst.com/risk3r/reference/woebin_ctree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interface scorecard::woebin for partykiy::ctree — woebin_ctree","text":"y vector response. Usually 0-1 x predictive variable namevar character element count_distr_limit minimum count distribution percentage. Accepted range: 0.01-0.2; Defaults 0.05. control ctree::ctree_control list element","code":""},{"path":"http://jkunst.com/risk3r/reference/woebin_ctree.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interface scorecard::woebin for partykiy::ctree — woebin_ctree","text":"","code":"if(FALSE){  data(germancredit, package = \"scorecard\")  y <- germancredit$creditability  x <- germancredit$duration.in.month  woebin_ctree(y, x, \"duration\", count_distr_limit = 0.05)  woebin_ctree(y, x, \"duration\", count_distr_limit = 0.2)  woebin_ctree(   y,   x,   \"duration\",   count_distr_limit = 0.05,   control = partykit::ctree_control(alpha = 0.5) )  x[sample(c(TRUE, FALSE), size = length(x), prob = c(1, 99), replace = TRUE)] <- NA woebin_ctree(y, x, \"duration\")  x <- germancredit$purpose woebin_ctree(y, x, \"purpose\")  x[sample(c(TRUE, FALSE), size = length(x), prob = c(1, 99), replace = TRUE)] <- NA woebin_ctree(y, x, \"purpose_with_na\")  }"},{"path":"http://jkunst.com/risk3r/reference/woebin_ply_min.html","id":null,"dir":"Reference","previous_headings":"","what":"Minimalistic version of scorecard::woebin_ply — woebin_ply_min","title":"Minimalistic version of scorecard::woebin_ply — woebin_ply_min","text":"Minimalistic version scorecard::woebin_ply","code":""},{"path":"http://jkunst.com/risk3r/reference/woebin_ply_min.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimalistic version of scorecard::woebin_ply — woebin_ply_min","text":"","code":"woebin_ply_min(variable, bin, value = \"woe\")"},{"path":"http://jkunst.com/risk3r/reference/woebin_ply_min.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Minimalistic version of scorecard::woebin_ply — woebin_ply_min","text":"variable variable get values asociated bin bin component (element) `scorecard::woebin` output value value return (column woebin table), defaults \"woe\", can : badprob, bin, etc.","code":""},{"path":"http://jkunst.com/risk3r/reference/woebin_ply_min.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Minimalistic version of scorecard::woebin_ply — woebin_ply_min","text":"","code":"if(FALSE){  data(germancredit, package = \"scorecard\")  bins <- woebin2(germancredit, y = \"creditability\", x = \"credit.amount\")  variable <- head(germancredit$credit.amount, 10)  bin <- bins$credit.amount  woebin_ply_min(variable, bin)  woebin_ply_min(variable, bin, value = \"posprob\")  }"},{"path":"http://jkunst.com/risk3r/reference/woebin_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Get scorecard's woe_bin summary — woebin_summary","title":"Get scorecard's woe_bin summary — woebin_summary","text":"Get scorecard's woe_bin summary","code":""},{"path":"http://jkunst.com/risk3r/reference/woebin_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get scorecard's woe_bin summary — woebin_summary","text":"","code":"woebin_summary(bins, sort = TRUE)"},{"path":"http://jkunst.com/risk3r/reference/woebin_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get scorecard's woe_bin summary — woebin_summary","text":"bins output `scorecard::woebin` `risk3r::woebin2` functions. sort Sort data frame information value. Default TRUE.","code":""},{"path":"http://jkunst.com/risk3r/reference/woebin_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get scorecard's woe_bin summary — woebin_summary","text":"","code":"if (FALSE) {   data(germancredit, package = \"scorecard\")    bins <- woebin2(     germancredit,     y = \"creditability\",     # x = c(\"credit.amount\", \"housing\", \"duration.in.month\", \"purpose\"),     no_cores = 0,     method = \"tree\"   )    bin_summary <- woebin_summary(bins)   bin_summary    if (require(dplyr)) {     dplyr::glimpse(bin_summary)      dplyr::filter(bin_summary, !monotone, !factor)   } }"},{"path":"http://jkunst.com/risk3r/reference/woes.html","id":null,"dir":"Reference","previous_headings":"","what":"woes from credit data — woes","title":"woes from credit data — woes","text":"woes credit data","code":""},{"path":"http://jkunst.com/risk3r/reference/woes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"woes from credit data — woes","text":"","code":"woes"},{"path":"http://jkunst.com/risk3r/reference/woes.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"woes from credit data — woes","text":"data frame 49,694 observations 14 variables.","code":""}]
