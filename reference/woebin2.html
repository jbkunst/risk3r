<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This is a wrapper for scorecard::woebin, this fixes some problem
 to replicate the cuts given on windows machines."><title>woebin fix for windows — woebin2 • risk3r</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="woebin fix for windows — woebin2"><meta property="og:description" content="This is a wrapper for scorecard::woebin, this fixes some problem
 to replicate the cuts given on windows machines."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">risk3r</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Plots.html">Plots</a>
    <a class="dropdown-item" href="../articles/feature-selection.html">Feature Selection</a>
    <a class="dropdown-item" href="../articles/predictive-metrics.html">Predictive Metrics</a>
    <a class="dropdown-item" href="../articles/scorecard.html">Scorecard package helpers</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jbkunst/risk3r/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>woebin fix for windows</h1>
      <small class="dont-index">Source: <a href="https://github.com/jbkunst/risk3r/blob/HEAD/R/helpers-scorecard.R" class="external-link"><code>R/helpers-scorecard.R</code></a></small>
      <div class="d-none name"><code>woebin2.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is a wrapper for scorecard::woebin, this fixes some problem
 to replicate the cuts given on windows machines.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">woebin2</span><span class="op">(</span>
  <span class="va">dt</span>,
  <span class="va">y</span>,
  x <span class="op">=</span> <span class="cn">NULL</span>,
  var_skip <span class="op">=</span> <span class="cn">NULL</span>,
  breaks_list <span class="op">=</span> <span class="cn">NULL</span>,
  special_values <span class="op">=</span> <span class="cn">NULL</span>,
  stop_limit <span class="op">=</span> <span class="fl">0.1</span>,
  count_distr_limit <span class="op">=</span> <span class="fl">0.05</span>,
  bin_num_limit <span class="op">=</span> <span class="fl">8</span>,
  positive <span class="op">=</span> <span class="st">"bad|1"</span>,
  no_cores <span class="op">=</span> <span class="cn">NULL</span>,
  print_step <span class="op">=</span> <span class="fl">0L</span>,
  method <span class="op">=</span> <span class="st">"tree"</span>,
  save_breaks_list <span class="op">=</span> <span class="cn">NULL</span>,
  ignore_const_cols <span class="op">=</span> <span class="cn">TRUE</span>,
  ignore_datetime_cols <span class="op">=</span> <span class="cn">TRUE</span>,
  check_cate_num <span class="op">=</span> <span class="cn">TRUE</span>,
  replace_blank_inf <span class="op">=</span> <span class="cn">TRUE</span>,
  control <span class="op">=</span> <span class="fu">partykit</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/partykit/man/ctree_control.html" class="external-link">ctree_control</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dt</dt>
<dd><p>A data frame with both x (predictor/feature) and y (response/label) variables.</p></dd>
<dt>y</dt>
<dd><p>Name of y variable.</p></dd>
<dt>x</dt>
<dd><p>Name of x variables. Defaults to NULL. If x is NULL, then all columns except y and var_skip are counted as x variables.</p></dd>
<dt>var_skip</dt>
<dd><p>Name of variables that will skip for binning. Defaults to NULL.</p></dd>
<dt>breaks_list</dt>
<dd><p>List of break points, Defaults to NULL. If it is not NULL, variable binning will based on the provided breaks.</p></dd>
<dt>special_values</dt>
<dd><p>the values specified in special_values will be in separate bins. Defaults to NULL.</p></dd>
<dt>stop_limit</dt>
<dd><p>Stop binning segmentation when information value gain ratio less than the 'stop_limit' if using tree method; or stop binning merge when the chi-square of each neighbor bins are larger than the threshold under significance level of 'stop_limit' and freedom degree of 1 if using chimerge method. Accepted range: 0-0.5; Defaults to 0.1. If it is 'N', each x value is a bin.</p></dd>
<dt>count_distr_limit</dt>
<dd><p>The minimum count distribution percentage. Accepted range: 0.01-0.2; Defaults to 0.05.</p></dd>
<dt>bin_num_limit</dt>
<dd><p>Integer. The maximum number of binning. Defaults to 8.</p></dd>
<dt>positive</dt>
<dd><p>Value of positive class, defaults to "bad|1".</p></dd>
<dt>no_cores</dt>
<dd><p>Number of CPU cores for parallel computation. Defaults to 90 percent of total cpu cores.</p></dd>
<dt>print_step</dt>
<dd><p>A non-negative integer. Defaults to 1. If print_step&gt;0, print variable names by each print_step-th iteration. If print_step=0 or no_cores&gt;1, no message is print.</p></dd>
<dt>method</dt>
<dd><p>Four methods are provided, "tree" and "chimerge" for optimal binning that support both numerical and categorical variables, and 'width' and 'freq' for equal binning that support numerical variables only. Defaults to "tree".</p></dd>
<dt>save_breaks_list</dt>
<dd><p>A string. The file name to save breaks_list. Defaults to None.</p></dd>
<dt>ignore_const_cols</dt>
<dd><p>Logical. Ignore constant columns. Defaults to TRUE.</p></dd>
<dt>ignore_datetime_cols</dt>
<dd><p>Logical. Ignore datetime columns. Defaults to TRUE.</p></dd>
<dt>check_cate_num</dt>
<dd><p>Logical. Check whether the number of unique values in categorical columns larger than 50. It might make the binning process slow if there are too many unique categories. Defaults to TRUE.</p></dd>
<dt>replace_blank_inf</dt>
<dd><p>Logical. Replace blank values with NA and infinite with -1. Defaults to TRUE.</p></dd>
<dt>control</dt>
<dd><p>a ctree::ctree_control list element</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>See https://github.com/ShichenXie/scorecard/issues/50 for more details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">germancredit</span>, package <span class="op">=</span> <span class="st">"scorecard"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu">woebin2</span><span class="op">(</span></span>
<span class="r-in">    dt <span class="op">=</span> <span class="va">germancredit</span>,</span>
<span class="r-in">    y <span class="op">=</span> <span class="st">"creditability"</span>,</span>
<span class="r-in">    <span class="co"># x = c("credit.amount", "housing", "duration.in.month", "purpose"),</span></span>
<span class="r-in">    no_cores <span class="op">=</span> <span class="fl">0</span>,</span>
<span class="r-in">    method <span class="op">=</span> <span class="st">"tree"</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="va">bins</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ShichenXie/scorecard" class="external-link">scorecard</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">    <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ShichenXie/scorecard" class="external-link">scorecard</a></span><span class="op">)</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>bin_close_right <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="va">bins</span> <span class="op">&lt;-</span> <span class="fu">woebin2</span><span class="op">(</span></span>
<span class="r-in">    dt <span class="op">=</span> <span class="va">germancredit</span>,</span>
<span class="r-in">    y <span class="op">=</span> <span class="st">"creditability"</span>,</span>
<span class="r-in">    <span class="co"># x = c("credit.amount", "housing", "duration.in.month", "purpose"),</span></span>
<span class="r-in">    no_cores <span class="op">=</span> <span class="fl">0</span>,</span>
<span class="r-in">    method <span class="op">=</span> <span class="st">"tree"</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="va">bins</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="va">bins_ctree</span> <span class="op">&lt;-</span> <span class="fu">woebin2</span><span class="op">(</span></span>
<span class="r-in">    dt <span class="op">=</span> <span class="va">germancredit</span>,</span>
<span class="r-in">    y <span class="op">=</span> <span class="st">"creditability"</span>,</span>
<span class="r-in">    method <span class="op">=</span> <span class="st">"ctree"</span>,</span>
<span class="r-in">    no_cores <span class="op">=</span> <span class="fl">0</span>,</span>
<span class="r-in">    control <span class="op">=</span> <span class="fu">partykit</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/partykit/man/ctree_control.html" class="external-link">ctree_control</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">1</span>, maxdepth <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="fu"><a href="woebin_summary.html">woebin_summary</a></span><span class="op">(</span><span class="va">bins</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu"><a href="woebin_summary.html">woebin_summary</a></span><span class="op">(</span><span class="va">bins_ctree</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Joshua Kunst.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

