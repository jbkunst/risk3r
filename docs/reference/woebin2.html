<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>woebin fix for windows — woebin2 • risk3r</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="woebin fix for windows — woebin2" />
<meta property="og:description" content="This is a wrapper for scorecard::woebin, this fixes some problem
 to replicate the cuts given on windows machines." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">risk3r</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/risk3r.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>woebin fix for windows</h1>
    
    <div class="hidden name"><code>woebin2.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is a wrapper for scorecard::woebin, this fixes some problem
 to replicate the cuts given on windows machines.</p>
    </div>

    <pre class="usage"><span class='fu'>woebin2</span><span class='op'>(</span>
  <span class='va'>dt</span>,
  <span class='va'>y</span>,
  x <span class='op'>=</span> <span class='cn'>NULL</span>,
  var_skip <span class='op'>=</span> <span class='cn'>NULL</span>,
  breaks_list <span class='op'>=</span> <span class='cn'>NULL</span>,
  special_values <span class='op'>=</span> <span class='cn'>NULL</span>,
  stop_limit <span class='op'>=</span> <span class='fl'>0.1</span>,
  count_distr_limit <span class='op'>=</span> <span class='fl'>0.05</span>,
  bin_num_limit <span class='op'>=</span> <span class='fl'>8</span>,
  positive <span class='op'>=</span> <span class='st'>"bad|1"</span>,
  no_cores <span class='op'>=</span> <span class='cn'>NULL</span>,
  print_step <span class='op'>=</span> <span class='fl'>0L</span>,
  method <span class='op'>=</span> <span class='st'>"tree"</span>,
  save_breaks_list <span class='op'>=</span> <span class='cn'>NULL</span>,
  ignore_const_cols <span class='op'>=</span> <span class='cn'>TRUE</span>,
  ignore_datetime_cols <span class='op'>=</span> <span class='cn'>TRUE</span>,
  check_cate_num <span class='op'>=</span> <span class='cn'>TRUE</span>,
  replace_blank_inf <span class='op'>=</span> <span class='cn'>TRUE</span>,
  control <span class='op'>=</span> <span class='fu'>partykit</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/partykit/man/ctree_control.html'>ctree_control</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dt</th>
      <td><p>A data frame with both x (predictor/feature) and y (response/label) variables.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>Name of y variable.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>Name of x variables. Defaults to NULL. If x is NULL, then all columns except y and var_skip are counted as x variables.</p></td>
    </tr>
    <tr>
      <th>var_skip</th>
      <td><p>Name of variables that will skip for binning. Defaults to NULL.</p></td>
    </tr>
    <tr>
      <th>breaks_list</th>
      <td><p>List of break points, Defaults to NULL. If it is not NULL, variable binning will based on the provided breaks.</p></td>
    </tr>
    <tr>
      <th>special_values</th>
      <td><p>the values specified in special_values will be in separate bins. Defaults to NULL.</p></td>
    </tr>
    <tr>
      <th>stop_limit</th>
      <td><p>Stop binning segmentation when information value gain ratio less than the 'stop_limit' if using tree method; or stop binning merge when the chi-square of each neighbor bins are larger than the threshold under significance level of 'stop_limit' and freedom degree of 1 if using chimerge method. Accepted range: 0-0.5; Defaults to 0.1. If it is 'N', each x value is a bin.</p></td>
    </tr>
    <tr>
      <th>count_distr_limit</th>
      <td><p>The minimum count distribution percentage. Accepted range: 0.01-0.2; Defaults to 0.05.</p></td>
    </tr>
    <tr>
      <th>bin_num_limit</th>
      <td><p>Integer. The maximum number of binning. Defaults to 8.</p></td>
    </tr>
    <tr>
      <th>positive</th>
      <td><p>Value of positive class, defaults to "bad|1".</p></td>
    </tr>
    <tr>
      <th>no_cores</th>
      <td><p>Number of CPU cores for parallel computation. Defaults to 90 percent of total cpu cores.</p></td>
    </tr>
    <tr>
      <th>print_step</th>
      <td><p>A non-negative integer. Defaults to 1. If print_step&gt;0, print variable names by each print_step-th iteration. If print_step=0 or no_cores&gt;1, no message is print.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>Four methods are provided, "tree" and "chimerge" for optimal binning that support both numerical and categorical variables, and 'width' and 'freq' for equal binning that support numerical variables only. Defaults to "tree".</p></td>
    </tr>
    <tr>
      <th>save_breaks_list</th>
      <td><p>A string. The file name to save breaks_list. Defaults to None.</p></td>
    </tr>
    <tr>
      <th>ignore_const_cols</th>
      <td><p>Logical. Ignore constant columns. Defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>ignore_datetime_cols</th>
      <td><p>Logical. Ignore datetime columns. Defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>check_cate_num</th>
      <td><p>Logical. Check whether the number of unique values in categorical columns larger than 50. It might make the binning process slow if there are too many unique categories. Defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>replace_blank_inf</th>
      <td><p>Logical. Replace blank values with NA and infinite with -1. Defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p>a ctree::ctree_control list element</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>See https://github.com/ShichenXie/scorecard/issues/50 for more details.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>germancredit</span>, package <span class='op'>=</span> <span class='st'>"scorecard"</span><span class='op'>)</span>

  <span class='va'>bins</span> <span class='op'>&lt;-</span> <span class='fu'>woebin2</span><span class='op'>(</span>
    dt <span class='op'>=</span> <span class='va'>germancredit</span>,
    y <span class='op'>=</span> <span class='st'>"creditability"</span>,
    <span class='co'># x = c("credit.amount", "housing", "duration.in.month", "purpose"),</span>
    no_cores <span class='op'>=</span> <span class='fl'>0</span>,
    method <span class='op'>=</span> <span class='st'>"tree"</span>
  <span class='op'>)</span>

  <span class='va'>bins</span>

  <span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/ShichenXie/scorecard'>scorecard</a></span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/ShichenXie/scorecard'>scorecard</a></span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span><span class='op'>(</span>bin_close_right <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
  <span class='op'>}</span>

  <span class='va'>bins</span> <span class='op'>&lt;-</span> <span class='fu'>woebin2</span><span class='op'>(</span>
    dt <span class='op'>=</span> <span class='va'>germancredit</span>,
    y <span class='op'>=</span> <span class='st'>"creditability"</span>,
    <span class='co'># x = c("credit.amount", "housing", "duration.in.month", "purpose"),</span>
    no_cores <span class='op'>=</span> <span class='fl'>0</span>,
    method <span class='op'>=</span> <span class='st'>"tree"</span>
  <span class='op'>)</span>

  <span class='va'>bins</span>

  <span class='va'>bins_ctree</span> <span class='op'>&lt;-</span> <span class='fu'>woebin2</span><span class='op'>(</span>
    dt <span class='op'>=</span> <span class='va'>germancredit</span>,
    y <span class='op'>=</span> <span class='st'>"creditability"</span>,
    method <span class='op'>=</span> <span class='st'>"ctree"</span>,
    no_cores <span class='op'>=</span> <span class='fl'>0</span>,
    control <span class='op'>=</span> <span class='fu'>partykit</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/partykit/man/ctree_control.html'>ctree_control</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>1</span>, maxdepth <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>
  <span class='op'>)</span>

  <span class='fu'><a href='woebin_summary.html'>woebin_summary</a></span><span class='op'>(</span><span class='va'>bins</span><span class='op'>)</span>
  <span class='fu'><a href='woebin_summary.html'>woebin_summary</a></span><span class='op'>(</span><span class='va'>bins_ctree</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Joshua Kunst.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


